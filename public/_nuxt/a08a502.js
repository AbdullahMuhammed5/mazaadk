(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{635:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"category"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"category"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"products"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"details"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"details"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:136}};n.loc.source={body:"query category($id: ID!) {\n  category(id: $id) {\n    id\n    name\n    image\n    products\n    details{\n      id\n      details\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function o(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,t)})),e.definitions&&e.definitions.forEach((function(e){o(e,t)}))}var r={};function c(e,t){for(var i=0;i<e.definitions.length;i++){var element=e.definitions[i];if(element.name&&element.name.value==t)return element}}n.definitions.forEach((function(e){if(e.name){var t=new Set;o(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.category=function(e,t){var n={kind:e.kind,definitions:[c(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=r[t]||new Set,d=new Set,l=new Set;for(o.forEach((function(e){l.add(e)}));l.size>0;){var v=l;l=new Set,v.forEach((function(e){d.has(e)||(d.add(e),(r[e]||new Set).forEach((function(e){l.add(e)})))}))}return d.forEach((function(t){var o=c(e,t);o&&n.definitions.push(o)})),n}(n,"category")},679:function(e,t,n){"use strict";n.r(t);n(33);var o={name:"Category",components:{Product:n(542).a},data:function(){return{toggle_none:1,page:1,category_id:this.$route.params.category,category:null,valid:!0,pages:null,bidDialog:!1,increase:null,min_increment:null,grid:!0,products:[],product:{},productId:null,message:{activate:!1,message:"",color:null}}},mounted:function(){this.getCategory(),this.getProducts()},methods:{openBidDialog:function(e){this.productId=e.id,this.increase=e.min_increment,this.min_increment=e.min_increment,this.bidDialog=!0},bid:function(){var e=this,t=this.productId,o=this.increase;this.$apollo.mutate({mutation:n(493),variables:{product_id:t,increase:o}}).then((function(t){t.data.BidIncrease&&(e.message={activate:!0,text:"your bid submitted",color:"success"},e.bidDialog=!1)}))},getCategory:function(){var e=this,t=this.category_id;this.$apollo.query({query:n(635),variables:{id:t}}).then((function(t){e.category=t.data.category}))},getProducts:function(){var e=this,t=this.category_id,o=this.page;this.$apollo.query({query:n(537),variables:{page:o,category:t}}).then((function(t){e.products=t.data.products.data,e.pages=t.data.products.paginatorInfo.lastPage}))},sortByPrice:function(e){var t=this.products.slice(0);t.sort((function(a,b){return"lower"===e?a.price-b.price:b.price-a.price})),this.products=t}}},r=n(66),c=n(79),d=n.n(c),l=n(219),v=n(648),m=n(197),f=n(78),_=n(455),k=n(466),h=n(506),y=n(484),x=n(198),w=n(161),$=n(491),V=n(550),S=n(459),D=n(572),C=n(452),N=n(467),I=n(71),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[e.category?n("v-container",{staticClass:"pa-7"},[n("v-card",{staticClass:"mt-4",attrs:{color:"pink darken-3",rounded:""}},[n("v-row",{attrs:{justify:"center","align-content":"center"}},[n("v-col",{attrs:{cols:"12",md:"3"}},[n("v-img",{attrs:{"max-height":"140px",src:"/storage/"+e.category.image}})],1),e._v(" "),n("v-col",{attrs:{cols:"12",md:"9"}},[n("h1",{staticClass:"white--text display-2 text-center",staticStyle:{"margin-top":"40px"}},[e._v("\n            "+e._s(e.category.name)+"\n          ")])])],1)],1)],1):e._e(),e._v(" "),n("v-snackbar",{attrs:{color:e.message.color},model:{value:e.message.activate,callback:function(t){e.$set(e.message,"activate",t)},expression:"message.activate"}},[e._v("\n    "+e._s(e.message.text)+"\n    "),n("v-btn",{attrs:{color:"white",icon:""},on:{click:function(t){e.message.activate=!1}}},[n("v-icon",[e._v("mdi-close")])],1)],1),e._v(" "),n("v-container",[n("v-toolbar",{staticClass:"mt-5",attrs:{color:"transparent",dense:"",elevation:"0",floating:""}},[e.$vuetify.breakpoint.mdAndUp?n("v-btn-toggle",{staticClass:"ma-2",model:{value:e.toggle_none,callback:function(t){e.toggle_none=t},expression:"toggle_none"}},[n("v-btn",{attrs:{small:""},on:{click:function(t){e.grid=!0}}},[n("v-icon",[e._v("mdi-view-grid")])],1),e._v(" "),n("v-btn",{attrs:{small:""},on:{click:function(t){e.grid=!1}}},[n("v-icon",[e._v("mdi-format-list-bulleted")])],1)],1):e._e(),e._v(" "),n("v-spacer"),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn-toggle",{staticClass:"ma-2"},[n("v-btn",{attrs:{small:""},on:{click:function(t){return e.sortByPrice("higher")}}},[n("v-icon",[e._v("mdi-menu-up")])],1),e._v(" "),n("v-btn",{attrs:{small:""},on:{click:function(t){return e.sortByPrice("lower")}}},[n("v-icon",[e._v("mdi-menu-down")])],1)],1)],1),e._v(" "),n("v-row",{staticClass:"mt-6"},e._l(e.products,(function(t){return n("v-col",{attrs:{md:e.grid?3:12,cols:"12"}},[n("product",{attrs:{grid:e.grid,product:t}},[n("v-layout",{staticClass:"mt-2"},[n("v-spacer"),e._v(" "),e.$auth.loggedIn&&e.$auth.user.verified&&e.$auth.user.id!=t.user.id?n("v-btn",{attrs:{color:"red",dark:""},on:{click:function(n){return e.openBidDialog(t)}}},[e._v(e._s(e.$t("bid")))]):e._e(),e._v(" "),e.$auth.loggedIn&&!e.$auth.user.verified?n("v-btn",{attrs:{color:"red",nuxt:"",to:"/setting/profile",dark:""}},[e._v(e._s(e.$t("bid")))]):e._e(),e._v(" "),e.$auth.loggedIn?e._e():n("v-btn",{attrs:{color:"red",nuxt:"",to:"/auth/login",dark:""}},[e._v(e._s(e.$t("bid")))]),e._v(" "),n("v-spacer")],1)],1)],1)})),1),e._v(" "),e.pages>1?n("v-pagination",{attrs:{length:e.pages},on:{input:e.getProducts},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}}):e._e()],1),e._v(" "),e.$auth.loggedIn&&e.$auth.user.verified?n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.bidDialog,callback:function(t){e.bidDialog=t},expression:"bidDialog"}},[n("v-card",[n("v-card-title",[e._v("\n        "+e._s(e.$t("bid"))+"\n      ")]),e._v(" "),n("v-card-text",[n("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{min:e.min_increment,rules:[function(t){return!!t||e.$t("validation.required")},function(){return e.increase>=e.min_increment||"zid chwi"}],type:"number"},model:{value:e.increase,callback:function(t){e.increase=t},expression:"increase"}})],1)],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.bidDialog=!1}}},[e._v("\n          "+e._s(e.$t("close"))+"\n        ")]),e._v(" "),n("v-btn",{staticClass:"white--text",attrs:{disabled:!e.valid,color:"cyan"},on:{click:e.bid}},[e._v(e._s(e.$t("continue")))])],1)],1)],1):e._e()],1)}),[],!1,null,"126fc5cb",null);t.default=component.exports;d()(component,{VBtn:l.a,VBtnToggle:v.a,VCard:m.a,VCardActions:f.a,VCardText:f.b,VCardTitle:f.c,VCol:_.a,VContainer:k.a,VDialog:h.a,VForm:y.a,VIcon:x.a,VImg:w.a,VLayout:$.a,VPagination:V.a,VRow:S.a,VSnackbar:D.a,VSpacer:C.a,VTextField:N.a,VToolbar:I.a})}}]);