/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{430:function(t,e,n){(function(e){var n;window,n=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(object,t){return Object.prototype.hasOwnProperty.call(object,t)},n.p="",n(n.s=2)}([function(t,e,n){!function(t){"use strict";var e=function(t){var i,e=new Float64Array(16);if(t)for(i=0;i<t.length;i++)e[i]=t[i];return e},r=function(){throw new Error("no PRNG")},o=new Uint8Array(16),c=new Uint8Array(32);c[0]=9;var h=e(),f=e([1]),l=e([56129,1]),d=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),y=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),v=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),m=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),w=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function _(t,i,e,n){t[i]=e>>24&255,t[i+1]=e>>16&255,t[i+2]=e>>8&255,t[i+3]=255&e,t[i+4]=n>>24&255,t[i+5]=n>>16&255,t[i+6]=n>>8&255,t[i+7]=255&n}function S(t,e,n,r,o){var i,c=0;for(i=0;i<o;i++)c|=t[e+i]^n[r+i];return(1&c-1>>>8)-1}function k(t,e,n,r){return S(t,e,n,r,16)}function T(t,e,n,r){return S(t,e,n,r,32)}function O(t,e,n,r){!function(t,p,e,n){for(var u,r=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,c=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,h=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,f=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,d=255&p[0]|(255&p[1])<<8|(255&p[2])<<16|(255&p[3])<<24,y=255&p[4]|(255&p[5])<<8|(255&p[6])<<16|(255&p[7])<<24,v=255&p[8]|(255&p[9])<<8|(255&p[10])<<16|(255&p[11])<<24,m=255&p[12]|(255&p[13])<<8|(255&p[14])<<16|(255&p[15])<<24,w=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,_=255&e[16]|(255&e[17])<<8|(255&e[18])<<16|(255&e[19])<<24,S=255&e[20]|(255&e[21])<<8|(255&e[22])<<16|(255&e[23])<<24,k=255&e[24]|(255&e[25])<<8|(255&e[26])<<16|(255&e[27])<<24,T=255&e[28]|(255&e[29])<<8|(255&e[30])<<16|(255&e[31])<<24,O=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,C=r,A=o,E=c,P=h,x=f,L=l,R=d,U=y,M=v,j=m,I=w,N=_,D=S,B=k,z=T,H=O,i=0;i<20;i+=2)C^=(u=(D^=(u=(M^=(u=(x^=(u=C+D|0)<<7|u>>>25)+C|0)<<9|u>>>23)+x|0)<<13|u>>>19)+M|0)<<18|u>>>14,L^=(u=(A^=(u=(B^=(u=(j^=(u=L+A|0)<<7|u>>>25)+L|0)<<9|u>>>23)+j|0)<<13|u>>>19)+B|0)<<18|u>>>14,I^=(u=(R^=(u=(E^=(u=(z^=(u=I+R|0)<<7|u>>>25)+I|0)<<9|u>>>23)+z|0)<<13|u>>>19)+E|0)<<18|u>>>14,H^=(u=(N^=(u=(U^=(u=(P^=(u=H+N|0)<<7|u>>>25)+H|0)<<9|u>>>23)+P|0)<<13|u>>>19)+U|0)<<18|u>>>14,C^=(u=(P^=(u=(E^=(u=(A^=(u=C+P|0)<<7|u>>>25)+C|0)<<9|u>>>23)+A|0)<<13|u>>>19)+E|0)<<18|u>>>14,L^=(u=(x^=(u=(U^=(u=(R^=(u=L+x|0)<<7|u>>>25)+L|0)<<9|u>>>23)+R|0)<<13|u>>>19)+U|0)<<18|u>>>14,I^=(u=(j^=(u=(M^=(u=(N^=(u=I+j|0)<<7|u>>>25)+I|0)<<9|u>>>23)+N|0)<<13|u>>>19)+M|0)<<18|u>>>14,H^=(u=(z^=(u=(B^=(u=(D^=(u=H+z|0)<<7|u>>>25)+H|0)<<9|u>>>23)+D|0)<<13|u>>>19)+B|0)<<18|u>>>14;C=C+r|0,A=A+o|0,E=E+c|0,P=P+h|0,x=x+f|0,L=L+l|0,R=R+d|0,U=U+y|0,M=M+v|0,j=j+m|0,I=I+w|0,N=N+_|0,D=D+S|0,B=B+k|0,z=z+T|0,H=H+O|0,t[0]=C>>>0&255,t[1]=C>>>8&255,t[2]=C>>>16&255,t[3]=C>>>24&255,t[4]=A>>>0&255,t[5]=A>>>8&255,t[6]=A>>>16&255,t[7]=A>>>24&255,t[8]=E>>>0&255,t[9]=E>>>8&255,t[10]=E>>>16&255,t[11]=E>>>24&255,t[12]=P>>>0&255,t[13]=P>>>8&255,t[14]=P>>>16&255,t[15]=P>>>24&255,t[16]=x>>>0&255,t[17]=x>>>8&255,t[18]=x>>>16&255,t[19]=x>>>24&255,t[20]=L>>>0&255,t[21]=L>>>8&255,t[22]=L>>>16&255,t[23]=L>>>24&255,t[24]=R>>>0&255,t[25]=R>>>8&255,t[26]=R>>>16&255,t[27]=R>>>24&255,t[28]=U>>>0&255,t[29]=U>>>8&255,t[30]=U>>>16&255,t[31]=U>>>24&255,t[32]=M>>>0&255,t[33]=M>>>8&255,t[34]=M>>>16&255,t[35]=M>>>24&255,t[36]=j>>>0&255,t[37]=j>>>8&255,t[38]=j>>>16&255,t[39]=j>>>24&255,t[40]=I>>>0&255,t[41]=I>>>8&255,t[42]=I>>>16&255,t[43]=I>>>24&255,t[44]=N>>>0&255,t[45]=N>>>8&255,t[46]=N>>>16&255,t[47]=N>>>24&255,t[48]=D>>>0&255,t[49]=D>>>8&255,t[50]=D>>>16&255,t[51]=D>>>24&255,t[52]=B>>>0&255,t[53]=B>>>8&255,t[54]=B>>>16&255,t[55]=B>>>24&255,t[56]=z>>>0&255,t[57]=z>>>8&255,t[58]=z>>>16&255,t[59]=z>>>24&255,t[60]=H>>>0&255,t[61]=H>>>8&255,t[62]=H>>>16&255,t[63]=H>>>24&255}(t,e,n,r)}function C(t,e,n,r){!function(t,p,e,n){for(var u,r=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,c=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,h=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,f=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,d=255&p[0]|(255&p[1])<<8|(255&p[2])<<16|(255&p[3])<<24,y=255&p[4]|(255&p[5])<<8|(255&p[6])<<16|(255&p[7])<<24,v=255&p[8]|(255&p[9])<<8|(255&p[10])<<16|(255&p[11])<<24,m=255&p[12]|(255&p[13])<<8|(255&p[14])<<16|(255&p[15])<<24,w=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,_=255&e[16]|(255&e[17])<<8|(255&e[18])<<16|(255&e[19])<<24,S=255&e[20]|(255&e[21])<<8|(255&e[22])<<16|(255&e[23])<<24,k=255&e[24]|(255&e[25])<<8|(255&e[26])<<16|(255&e[27])<<24,T=255&e[28]|(255&e[29])<<8|(255&e[30])<<16|(255&e[31])<<24,O=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,i=0;i<20;i+=2)r^=(u=(S^=(u=(v^=(u=(f^=(u=r+S|0)<<7|u>>>25)+r|0)<<9|u>>>23)+f|0)<<13|u>>>19)+v|0)<<18|u>>>14,l^=(u=(o^=(u=(k^=(u=(m^=(u=l+o|0)<<7|u>>>25)+l|0)<<9|u>>>23)+m|0)<<13|u>>>19)+k|0)<<18|u>>>14,w^=(u=(d^=(u=(c^=(u=(T^=(u=w+d|0)<<7|u>>>25)+w|0)<<9|u>>>23)+T|0)<<13|u>>>19)+c|0)<<18|u>>>14,O^=(u=(_^=(u=(y^=(u=(h^=(u=O+_|0)<<7|u>>>25)+O|0)<<9|u>>>23)+h|0)<<13|u>>>19)+y|0)<<18|u>>>14,r^=(u=(h^=(u=(c^=(u=(o^=(u=r+h|0)<<7|u>>>25)+r|0)<<9|u>>>23)+o|0)<<13|u>>>19)+c|0)<<18|u>>>14,l^=(u=(f^=(u=(y^=(u=(d^=(u=l+f|0)<<7|u>>>25)+l|0)<<9|u>>>23)+d|0)<<13|u>>>19)+y|0)<<18|u>>>14,w^=(u=(m^=(u=(v^=(u=(_^=(u=w+m|0)<<7|u>>>25)+w|0)<<9|u>>>23)+_|0)<<13|u>>>19)+v|0)<<18|u>>>14,O^=(u=(T^=(u=(k^=(u=(S^=(u=O+T|0)<<7|u>>>25)+O|0)<<9|u>>>23)+S|0)<<13|u>>>19)+k|0)<<18|u>>>14;t[0]=r>>>0&255,t[1]=r>>>8&255,t[2]=r>>>16&255,t[3]=r>>>24&255,t[4]=l>>>0&255,t[5]=l>>>8&255,t[6]=l>>>16&255,t[7]=l>>>24&255,t[8]=w>>>0&255,t[9]=w>>>8&255,t[10]=w>>>16&255,t[11]=w>>>24&255,t[12]=O>>>0&255,t[13]=O>>>8&255,t[14]=O>>>16&255,t[15]=O>>>24&255,t[16]=d>>>0&255,t[17]=d>>>8&255,t[18]=d>>>16&255,t[19]=d>>>24&255,t[20]=y>>>0&255,t[21]=y>>>8&255,t[22]=y>>>16&255,t[23]=y>>>24&255,t[24]=v>>>0&255,t[25]=v>>>8&255,t[26]=v>>>16&255,t[27]=v>>>24&255,t[28]=m>>>0&255,t[29]=m>>>8&255,t[30]=m>>>16&255,t[31]=m>>>24&255}(t,e,n,r)}var A=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function E(t,e,n,r,b,o,c){var u,i,h=new Uint8Array(16),f=new Uint8Array(64);for(i=0;i<16;i++)h[i]=0;for(i=0;i<8;i++)h[i]=o[i];for(;b>=64;){for(O(f,h,c,A),i=0;i<64;i++)t[e+i]=n[r+i]^f[i];for(u=1,i=8;i<16;i++)u=u+(255&h[i])|0,h[i]=255&u,u>>>=8;b-=64,e+=64,r+=64}if(b>0)for(O(f,h,c,A),i=0;i<b;i++)t[e+i]=n[r+i]^f[i];return 0}function P(t,e,b,n,r){var u,i,o=new Uint8Array(16),c=new Uint8Array(64);for(i=0;i<16;i++)o[i]=0;for(i=0;i<8;i++)o[i]=n[i];for(;b>=64;){for(O(c,o,r,A),i=0;i<64;i++)t[e+i]=c[i];for(u=1,i=8;i<16;i++)u=u+(255&o[i])|0,o[i]=255&u,u>>>=8;b-=64,e+=64}if(b>0)for(O(c,o,r,A),i=0;i<b;i++)t[e+i]=c[i];return 0}function x(t,e,n,r,o){var s=new Uint8Array(32);C(s,r,o,A);for(var c=new Uint8Array(8),i=0;i<8;i++)c[i]=r[i+16];return P(t,e,n,c,s)}function L(t,e,n,r,o,c,h){var s=new Uint8Array(32);C(s,c,h,A);for(var f=new Uint8Array(8),i=0;i<8;i++)f[i]=c[i+16];return E(t,e,n,r,o,f,s)}var R=function(t){var e,n,r,o,c,h,f,l;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,n=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|n<<3),r=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(n>>>10|r<<6),o=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(r>>>7|o<<9),c=255&t[8]|(255&t[9])<<8,this.r[4]=255&(o>>>4|c<<12),this.r[5]=c>>>1&8190,h=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(c>>>14|h<<2),f=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(h>>>11|f<<5),l=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(f>>>8|l<<8),this.r[9]=l>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function U(t,e,n,r,o,c){var s=new R(c);return s.update(n,r,o),s.finish(t,e),0}function M(t,e,n,r,o,c){var h=new Uint8Array(16);return U(h,0,n,r,o,c),k(t,e,h,0)}function j(t,e,n,r,o){var i;if(n<32)return-1;for(L(t,0,e,0,n,r,o),U(t,16,t,32,n-32,t),i=0;i<16;i++)t[i]=0;return 0}function I(t,e,n,r,o){var i,c=new Uint8Array(32);if(n<32)return-1;if(x(c,0,32,r,o),0!==M(e,16,e,32,n-32,c))return-1;for(L(t,0,e,0,n,r,o),i=0;i<32;i++)t[i]=0;return 0}function N(t,a){var i;for(i=0;i<16;i++)t[i]=0|a[i]}function D(t){var i,e,n=1;for(i=0;i<16;i++)e=t[i]+n+65535,n=Math.floor(e/65536),t[i]=e-65536*n;t[0]+=n-1+37*(n-1)}function B(p,q,b){for(var t,e=~(b-1),i=0;i<16;i++)t=e&(p[i]^q[i]),p[i]^=t,q[i]^=t}function z(t,n){var i,r,b,o=e(),c=e();for(i=0;i<16;i++)c[i]=n[i];for(D(c),D(c),D(c),r=0;r<2;r++){for(o[0]=c[0]-65517,i=1;i<15;i++)o[i]=c[i]-65535-(o[i-1]>>16&1),o[i-1]&=65535;o[15]=c[15]-32767-(o[14]>>16&1),b=o[15]>>16&1,o[14]&=65535,B(c,o,1-b)}for(i=0;i<16;i++)t[2*i]=255&c[i],t[2*i+1]=c[i]>>8}function H(a,b){var t=new Uint8Array(32),e=new Uint8Array(32);return z(t,a),z(e,b),T(t,0,e,0)}function F(a){var t=new Uint8Array(32);return z(t,a),1&t[0]}function J(t,e){var i;for(i=0;i<16;i++)t[i]=e[2*i]+(e[2*i+1]<<8);t[15]&=32767}function X(t,a,b){for(var i=0;i<16;i++)t[i]=a[i]+b[i]}function Y(t,a,b){for(var i=0;i<16;i++)t[i]=a[i]-b[i]}function K(t,a,b){var e,n,r=0,o=0,c=0,h=0,f=0,l=0,d=0,y=0,v=0,m=0,w=0,_=0,S=0,k=0,T=0,O=0,C=0,A=0,E=0,P=0,x=0,L=0,R=0,U=0,M=0,j=0,I=0,N=0,D=0,B=0,z=0,H=b[0],F=b[1],J=b[2],X=b[3],Y=b[4],K=b[5],W=b[6],G=b[7],Z=b[8],V=b[9],Q=b[10],$=b[11],tt=b[12],et=b[13],nt=b[14],ot=b[15];r+=(e=a[0])*H,o+=e*F,c+=e*J,h+=e*X,f+=e*Y,l+=e*K,d+=e*W,y+=e*G,v+=e*Z,m+=e*V,w+=e*Q,_+=e*$,S+=e*tt,k+=e*et,T+=e*nt,O+=e*ot,o+=(e=a[1])*H,c+=e*F,h+=e*J,f+=e*X,l+=e*Y,d+=e*K,y+=e*W,v+=e*G,m+=e*Z,w+=e*V,_+=e*Q,S+=e*$,k+=e*tt,T+=e*et,O+=e*nt,C+=e*ot,c+=(e=a[2])*H,h+=e*F,f+=e*J,l+=e*X,d+=e*Y,y+=e*K,v+=e*W,m+=e*G,w+=e*Z,_+=e*V,S+=e*Q,k+=e*$,T+=e*tt,O+=e*et,C+=e*nt,A+=e*ot,h+=(e=a[3])*H,f+=e*F,l+=e*J,d+=e*X,y+=e*Y,v+=e*K,m+=e*W,w+=e*G,_+=e*Z,S+=e*V,k+=e*Q,T+=e*$,O+=e*tt,C+=e*et,A+=e*nt,E+=e*ot,f+=(e=a[4])*H,l+=e*F,d+=e*J,y+=e*X,v+=e*Y,m+=e*K,w+=e*W,_+=e*G,S+=e*Z,k+=e*V,T+=e*Q,O+=e*$,C+=e*tt,A+=e*et,E+=e*nt,P+=e*ot,l+=(e=a[5])*H,d+=e*F,y+=e*J,v+=e*X,m+=e*Y,w+=e*K,_+=e*W,S+=e*G,k+=e*Z,T+=e*V,O+=e*Q,C+=e*$,A+=e*tt,E+=e*et,P+=e*nt,x+=e*ot,d+=(e=a[6])*H,y+=e*F,v+=e*J,m+=e*X,w+=e*Y,_+=e*K,S+=e*W,k+=e*G,T+=e*Z,O+=e*V,C+=e*Q,A+=e*$,E+=e*tt,P+=e*et,x+=e*nt,L+=e*ot,y+=(e=a[7])*H,v+=e*F,m+=e*J,w+=e*X,_+=e*Y,S+=e*K,k+=e*W,T+=e*G,O+=e*Z,C+=e*V,A+=e*Q,E+=e*$,P+=e*tt,x+=e*et,L+=e*nt,R+=e*ot,v+=(e=a[8])*H,m+=e*F,w+=e*J,_+=e*X,S+=e*Y,k+=e*K,T+=e*W,O+=e*G,C+=e*Z,A+=e*V,E+=e*Q,P+=e*$,x+=e*tt,L+=e*et,R+=e*nt,U+=e*ot,m+=(e=a[9])*H,w+=e*F,_+=e*J,S+=e*X,k+=e*Y,T+=e*K,O+=e*W,C+=e*G,A+=e*Z,E+=e*V,P+=e*Q,x+=e*$,L+=e*tt,R+=e*et,U+=e*nt,M+=e*ot,w+=(e=a[10])*H,_+=e*F,S+=e*J,k+=e*X,T+=e*Y,O+=e*K,C+=e*W,A+=e*G,E+=e*Z,P+=e*V,x+=e*Q,L+=e*$,R+=e*tt,U+=e*et,M+=e*nt,j+=e*ot,_+=(e=a[11])*H,S+=e*F,k+=e*J,T+=e*X,O+=e*Y,C+=e*K,A+=e*W,E+=e*G,P+=e*Z,x+=e*V,L+=e*Q,R+=e*$,U+=e*tt,M+=e*et,j+=e*nt,I+=e*ot,S+=(e=a[12])*H,k+=e*F,T+=e*J,O+=e*X,C+=e*Y,A+=e*K,E+=e*W,P+=e*G,x+=e*Z,L+=e*V,R+=e*Q,U+=e*$,M+=e*tt,j+=e*et,I+=e*nt,N+=e*ot,k+=(e=a[13])*H,T+=e*F,O+=e*J,C+=e*X,A+=e*Y,E+=e*K,P+=e*W,x+=e*G,L+=e*Z,R+=e*V,U+=e*Q,M+=e*$,j+=e*tt,I+=e*et,N+=e*nt,D+=e*ot,T+=(e=a[14])*H,O+=e*F,C+=e*J,A+=e*X,E+=e*Y,P+=e*K,x+=e*W,L+=e*G,R+=e*Z,U+=e*V,M+=e*Q,j+=e*$,I+=e*tt,N+=e*et,D+=e*nt,B+=e*ot,O+=(e=a[15])*H,o+=38*(A+=e*J),c+=38*(E+=e*X),h+=38*(P+=e*Y),f+=38*(x+=e*K),l+=38*(L+=e*W),d+=38*(R+=e*G),y+=38*(U+=e*Z),v+=38*(M+=e*V),m+=38*(j+=e*Q),w+=38*(I+=e*$),_+=38*(N+=e*tt),S+=38*(D+=e*et),k+=38*(B+=e*nt),T+=38*(z+=e*ot),r=(e=(r+=38*(C+=e*F))+(n=1)+65535)-65536*(n=Math.floor(e/65536)),o=(e=o+n+65535)-65536*(n=Math.floor(e/65536)),c=(e=c+n+65535)-65536*(n=Math.floor(e/65536)),h=(e=h+n+65535)-65536*(n=Math.floor(e/65536)),f=(e=f+n+65535)-65536*(n=Math.floor(e/65536)),l=(e=l+n+65535)-65536*(n=Math.floor(e/65536)),d=(e=d+n+65535)-65536*(n=Math.floor(e/65536)),y=(e=y+n+65535)-65536*(n=Math.floor(e/65536)),v=(e=v+n+65535)-65536*(n=Math.floor(e/65536)),m=(e=m+n+65535)-65536*(n=Math.floor(e/65536)),w=(e=w+n+65535)-65536*(n=Math.floor(e/65536)),_=(e=_+n+65535)-65536*(n=Math.floor(e/65536)),S=(e=S+n+65535)-65536*(n=Math.floor(e/65536)),k=(e=k+n+65535)-65536*(n=Math.floor(e/65536)),T=(e=T+n+65535)-65536*(n=Math.floor(e/65536)),O=(e=O+n+65535)-65536*(n=Math.floor(e/65536)),r=(e=(r+=n-1+37*(n-1))+(n=1)+65535)-65536*(n=Math.floor(e/65536)),o=(e=o+n+65535)-65536*(n=Math.floor(e/65536)),c=(e=c+n+65535)-65536*(n=Math.floor(e/65536)),h=(e=h+n+65535)-65536*(n=Math.floor(e/65536)),f=(e=f+n+65535)-65536*(n=Math.floor(e/65536)),l=(e=l+n+65535)-65536*(n=Math.floor(e/65536)),d=(e=d+n+65535)-65536*(n=Math.floor(e/65536)),y=(e=y+n+65535)-65536*(n=Math.floor(e/65536)),v=(e=v+n+65535)-65536*(n=Math.floor(e/65536)),m=(e=m+n+65535)-65536*(n=Math.floor(e/65536)),w=(e=w+n+65535)-65536*(n=Math.floor(e/65536)),_=(e=_+n+65535)-65536*(n=Math.floor(e/65536)),S=(e=S+n+65535)-65536*(n=Math.floor(e/65536)),k=(e=k+n+65535)-65536*(n=Math.floor(e/65536)),T=(e=T+n+65535)-65536*(n=Math.floor(e/65536)),O=(e=O+n+65535)-65536*(n=Math.floor(e/65536)),r+=n-1+37*(n-1),t[0]=r,t[1]=o,t[2]=c,t[3]=h,t[4]=f,t[5]=l,t[6]=d,t[7]=y,t[8]=v,t[9]=m,t[10]=w,t[11]=_,t[12]=S,t[13]=k,t[14]=T,t[15]=O}function W(t,a){K(t,a,a)}function G(t,i){var a,n=e();for(a=0;a<16;a++)n[a]=i[a];for(a=253;a>=0;a--)W(n,n),2!==a&&4!==a&&K(n,n,i);for(a=0;a<16;a++)t[a]=n[a]}function Z(t,i){var a,n=e();for(a=0;a<16;a++)n[a]=i[a];for(a=250;a>=0;a--)W(n,n),1!==a&&K(n,n,i);for(a=0;a<16;a++)t[a]=n[a]}function V(q,t,p){var n,i,r=new Uint8Array(32),o=new Float64Array(80),a=e(),b=e(),c=e(),h=e(),f=e(),d=e();for(i=0;i<31;i++)r[i]=t[i];for(r[31]=127&t[31]|64,r[0]&=248,J(o,p),i=0;i<16;i++)b[i]=o[i],h[i]=a[i]=c[i]=0;for(a[0]=h[0]=1,i=254;i>=0;--i)B(a,b,n=r[i>>>3]>>>(7&i)&1),B(c,h,n),X(f,a,c),Y(a,a,c),X(c,b,h),Y(b,b,h),W(h,f),W(d,a),K(a,c,a),K(c,b,f),X(f,a,c),Y(a,a,c),W(b,a),Y(c,h,d),K(a,c,l),X(a,a,h),K(c,c,a),K(a,h,d),K(h,b,o),W(b,f),B(a,b,n),B(c,h,n);for(i=0;i<16;i++)o[i+16]=a[i],o[i+32]=c[i],o[i+48]=b[i],o[i+64]=h[i];var y=o.subarray(32),v=o.subarray(16);return G(y,y),K(v,v,y),z(q,v),0}function Q(q,t){return V(q,t,c)}function $(t,e){return r(e,32),Q(t,e)}function tt(t,e,n){var s=new Uint8Array(32);return V(s,n,e),C(t,o,s,A)}R.prototype.blocks=function(t,e,n){for(var r,o,c,h,f,l,d,y,v,m,w,_,S,k,T,O,C,A,E,P=this.fin?0:2048,x=this.h[0],h1=this.h[1],h2=this.h[2],h3=this.h[3],h4=this.h[4],h5=this.h[5],h6=this.h[6],L=this.h[7],R=this.h[8],U=this.h[9],M=this.r[0],j=this.r[1],I=this.r[2],N=this.r[3],D=this.r[4],B=this.r[5],z=this.r[6],H=this.r[7],F=this.r[8],J=this.r[9];n>=16;)m=v=0,m+=(x+=8191&(r=255&t[e+0]|(255&t[e+1])<<8))*M,m+=(h1+=8191&(r>>>13|(o=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*J),m+=(h2+=8191&(o>>>10|(c=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*F),m+=(h3+=8191&(c>>>7|(h=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*H),v=(m+=(h4+=8191&(h>>>4|(f=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*z))>>>13,m&=8191,m+=(h5+=f>>>1&8191)*(5*B),m+=(h6+=8191&(f>>>14|(l=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*D),m+=(L+=8191&(l>>>11|(d=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*N),m+=(R+=8191&(d>>>8|(y=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*I),w=v+=(m+=(U+=y>>>5|P)*(5*j))>>>13,w+=x*j,w+=h1*M,w+=h2*(5*J),w+=h3*(5*F),v=(w+=h4*(5*H))>>>13,w&=8191,w+=h5*(5*z),w+=h6*(5*B),w+=L*(5*D),w+=R*(5*N),v+=(w+=U*(5*I))>>>13,w&=8191,_=v,_+=x*I,_+=h1*j,_+=h2*M,_+=h3*(5*J),v=(_+=h4*(5*F))>>>13,_&=8191,_+=h5*(5*H),_+=h6*(5*z),_+=L*(5*B),_+=R*(5*D),S=v+=(_+=U*(5*N))>>>13,S+=x*N,S+=h1*I,S+=h2*j,S+=h3*M,v=(S+=h4*(5*J))>>>13,S&=8191,S+=h5*(5*F),S+=h6*(5*H),S+=L*(5*z),S+=R*(5*B),k=v+=(S+=U*(5*D))>>>13,k+=x*D,k+=h1*N,k+=h2*I,k+=h3*j,v=(k+=h4*M)>>>13,k&=8191,k+=h5*(5*J),k+=h6*(5*F),k+=L*(5*H),k+=R*(5*z),T=v+=(k+=U*(5*B))>>>13,T+=x*B,T+=h1*D,T+=h2*N,T+=h3*I,v=(T+=h4*j)>>>13,T&=8191,T+=h5*M,T+=h6*(5*J),T+=L*(5*F),T+=R*(5*H),O=v+=(T+=U*(5*z))>>>13,O+=x*z,O+=h1*B,O+=h2*D,O+=h3*N,v=(O+=h4*I)>>>13,O&=8191,O+=h5*j,O+=h6*M,O+=L*(5*J),O+=R*(5*F),C=v+=(O+=U*(5*H))>>>13,C+=x*H,C+=h1*z,C+=h2*B,C+=h3*D,v=(C+=h4*N)>>>13,C&=8191,C+=h5*I,C+=h6*j,C+=L*M,C+=R*(5*J),A=v+=(C+=U*(5*F))>>>13,A+=x*F,A+=h1*H,A+=h2*z,A+=h3*B,v=(A+=h4*D)>>>13,A&=8191,A+=h5*N,A+=h6*I,A+=L*j,A+=R*M,E=v+=(A+=U*(5*J))>>>13,E+=x*J,E+=h1*F,E+=h2*H,E+=h3*z,v=(E+=h4*B)>>>13,E&=8191,E+=h5*D,E+=h6*N,E+=L*I,E+=R*j,x=m=8191&(v=(v=((v+=(E+=U*M)>>>13)<<2)+v|0)+(m&=8191)|0),h1=w+=v>>>=13,h2=_&=8191,h3=S&=8191,h4=k&=8191,h5=T&=8191,h6=O&=8191,L=C&=8191,R=A&=8191,U=E&=8191,e+=16,n-=16;this.h[0]=x,this.h[1]=h1,this.h[2]=h2,this.h[3]=h3,this.h[4]=h4,this.h[5]=h5,this.h[6]=h6,this.h[7]=L,this.h[8]=R,this.h[9]=U},R.prototype.finish=function(t,e){var n,mask,r,i,g=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=n,n=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,g[0]=this.h[0]+5,n=g[0]>>>13,g[0]&=8191,i=1;i<10;i++)g[i]=this.h[i]+n,n=g[i]>>>13,g[i]&=8191;for(g[9]-=8192,mask=(1^n)-1,i=0;i<10;i++)g[i]&=mask;for(mask=~mask,i=0;i<10;i++)this.h[i]=this.h[i]&mask|g[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),r=this.h[0]+this.pad[0],this.h[0]=65535&r,i=1;i<8;i++)r=(this.h[i]+this.pad[i]|0)+(r>>>16)|0,this.h[i]=65535&r;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},R.prototype.update=function(t,e,n){var i,r;if(this.leftover){for((r=16-this.leftover)>n&&(r=n),i=0;i<r;i++)this.buffer[this.leftover+i]=t[e+i];if(n-=r,e+=r,this.leftover+=r,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(r=n-n%16,this.blocks(t,e,r),e+=r,n-=r),n){for(i=0;i<n;i++)this.buffer[this.leftover+i]=t[e+i];this.leftover+=n}};var et=j,nt=I,ot=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function it(t,e,n,r){for(var o,c,h,f,l,d,y,v,m,w,_,S,k,T,O,C,th,A,i,E,P,x,a,b,L,R,U=new Int32Array(16),M=new Int32Array(16),j=t[0],I=t[1],N=t[2],D=t[3],B=t[4],z=t[5],H=t[6],F=t[7],J=e[0],X=e[1],Y=e[2],K=e[3],W=e[4],G=e[5],Z=e[6],V=e[7],Q=0;r>=128;){for(i=0;i<16;i++)E=8*i+Q,U[i]=n[E+0]<<24|n[E+1]<<16|n[E+2]<<8|n[E+3],M[i]=n[E+4]<<24|n[E+5]<<16|n[E+6]<<8|n[E+7];for(i=0;i<80;i++)if(o=j,c=I,h=N,f=D,l=B,d=z,y=H,m=J,w=X,_=Y,S=K,k=W,T=G,O=Z,a=65535&(x=V),b=x>>>16,L=65535&(P=F),R=P>>>16,a+=65535&(x=(W>>>14|B<<18)^(W>>>18|B<<14)^(B>>>9|W<<23)),b+=x>>>16,L+=65535&(P=(B>>>14|W<<18)^(B>>>18|W<<14)^(W>>>9|B<<23)),R+=P>>>16,a+=65535&(x=W&G^~W&Z),b+=x>>>16,L+=65535&(P=B&z^~B&H),R+=P>>>16,a+=65535&(x=ot[2*i+1]),b+=x>>>16,L+=65535&(P=ot[2*i]),R+=P>>>16,P=U[i%16],b+=(x=M[i%16])>>>16,L+=65535&P,R+=P>>>16,L+=(b+=(a+=65535&x)>>>16)>>>16,a=65535&(x=A=65535&a|b<<16),b=x>>>16,L=65535&(P=th=65535&L|(R+=L>>>16)<<16),R=P>>>16,a+=65535&(x=(J>>>28|j<<4)^(j>>>2|J<<30)^(j>>>7|J<<25)),b+=x>>>16,L+=65535&(P=(j>>>28|J<<4)^(J>>>2|j<<30)^(J>>>7|j<<25)),R+=P>>>16,b+=(x=J&X^J&Y^X&Y)>>>16,L+=65535&(P=j&I^j&N^I&N),R+=P>>>16,v=65535&(L+=(b+=(a+=65535&x)>>>16)>>>16)|(R+=L>>>16)<<16,C=65535&a|b<<16,a=65535&(x=S),b=x>>>16,L=65535&(P=f),R=P>>>16,b+=(x=A)>>>16,L+=65535&(P=th),R+=P>>>16,I=o,N=c,D=h,B=f=65535&(L+=(b+=(a+=65535&x)>>>16)>>>16)|(R+=L>>>16)<<16,z=l,H=d,F=y,j=v,X=m,Y=w,K=_,W=S=65535&a|b<<16,G=k,Z=T,V=O,J=C,i%16==15)for(E=0;E<16;E++)P=U[E],a=65535&(x=M[E]),b=x>>>16,L=65535&P,R=P>>>16,P=U[(E+9)%16],a+=65535&(x=M[(E+9)%16]),b+=x>>>16,L+=65535&P,R+=P>>>16,th=U[(E+1)%16],a+=65535&(x=((A=M[(E+1)%16])>>>1|th<<31)^(A>>>8|th<<24)^(A>>>7|th<<25)),b+=x>>>16,L+=65535&(P=(th>>>1|A<<31)^(th>>>8|A<<24)^th>>>7),R+=P>>>16,th=U[(E+14)%16],b+=(x=((A=M[(E+14)%16])>>>19|th<<13)^(th>>>29|A<<3)^(A>>>6|th<<26))>>>16,L+=65535&(P=(th>>>19|A<<13)^(A>>>29|th<<3)^th>>>6),R+=P>>>16,R+=(L+=(b+=(a+=65535&x)>>>16)>>>16)>>>16,U[E]=65535&L|R<<16,M[E]=65535&a|b<<16;a=65535&(x=J),b=x>>>16,L=65535&(P=j),R=P>>>16,P=t[0],b+=(x=e[0])>>>16,L+=65535&P,R+=P>>>16,R+=(L+=(b+=(a+=65535&x)>>>16)>>>16)>>>16,t[0]=j=65535&L|R<<16,e[0]=J=65535&a|b<<16,a=65535&(x=X),b=x>>>16,L=65535&(P=I),R=P>>>16,P=t[1],b+=(x=e[1])>>>16,L+=65535&P,R+=P>>>16,R+=(L+=(b+=(a+=65535&x)>>>16)>>>16)>>>16,t[1]=I=65535&L|R<<16,e[1]=X=65535&a|b<<16,a=65535&(x=Y),b=x>>>16,L=65535&(P=N),R=P>>>16,P=t[2],b+=(x=e[2])>>>16,L+=65535&P,R+=P>>>16,R+=(L+=(b+=(a+=65535&x)>>>16)>>>16)>>>16,t[2]=N=65535&L|R<<16,e[2]=Y=65535&a|b<<16,a=65535&(x=K),b=x>>>16,L=65535&(P=D),R=P>>>16,P=t[3],b+=(x=e[3])>>>16,L+=65535&P,R+=P>>>16,R+=(L+=(b+=(a+=65535&x)>>>16)>>>16)>>>16,t[3]=D=65535&L|R<<16,e[3]=K=65535&a|b<<16,a=65535&(x=W),b=x>>>16,L=65535&(P=B),R=P>>>16,P=t[4],b+=(x=e[4])>>>16,L+=65535&P,R+=P>>>16,R+=(L+=(b+=(a+=65535&x)>>>16)>>>16)>>>16,t[4]=B=65535&L|R<<16,e[4]=W=65535&a|b<<16,a=65535&(x=G),b=x>>>16,L=65535&(P=z),R=P>>>16,P=t[5],b+=(x=e[5])>>>16,L+=65535&P,R+=P>>>16,R+=(L+=(b+=(a+=65535&x)>>>16)>>>16)>>>16,t[5]=z=65535&L|R<<16,e[5]=G=65535&a|b<<16,a=65535&(x=Z),b=x>>>16,L=65535&(P=H),R=P>>>16,P=t[6],b+=(x=e[6])>>>16,L+=65535&P,R+=P>>>16,R+=(L+=(b+=(a+=65535&x)>>>16)>>>16)>>>16,t[6]=H=65535&L|R<<16,e[6]=Z=65535&a|b<<16,a=65535&(x=V),b=x>>>16,L=65535&(P=F),R=P>>>16,P=t[7],b+=(x=e[7])>>>16,L+=65535&P,R+=P>>>16,R+=(L+=(b+=(a+=65535&x)>>>16)>>>16)>>>16,t[7]=F=65535&L|R<<16,e[7]=V=65535&a|b<<16,Q+=128,r-=128}return r}function st(t,e,n){var i,r=new Int32Array(8),o=new Int32Array(8),c=new Uint8Array(256),b=n;for(r[0]=1779033703,r[1]=3144134277,r[2]=1013904242,r[3]=2773480762,r[4]=1359893119,r[5]=2600822924,r[6]=528734635,r[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,it(r,o,e,n),n%=128,i=0;i<n;i++)c[i]=e[b-n+i];for(c[n]=128,c[(n=256-128*(n<112?1:0))-9]=0,_(c,n-8,b/536870912|0,b<<3),it(r,o,c,n),i=0;i<8;i++)_(t,8*i,r[i],o[i]);return 0}function ct(p,q){var a=e(),b=e(),t=e(),n=e(),r=e(),o=e(),g=e(),c=e(),h=e();Y(a,p[1],p[0]),Y(h,q[1],q[0]),K(a,a,h),X(b,p[0],p[1]),X(h,q[0],q[1]),K(b,b,h),K(t,p[3],q[3]),K(t,t,y),K(n,p[2],q[2]),X(n,n,n),Y(r,b,a),Y(o,n,t),X(g,n,t),X(c,b,a),K(p[0],r,o),K(p[1],c,g),K(p[2],g,o),K(p[3],r,c)}function at(p,q,b){var i;for(i=0;i<4;i++)B(p[i],q[i],b)}function ut(t,p){var n=e(),r=e(),o=e();G(o,p[2]),K(n,p[0],o),K(r,p[1],o),z(t,r),t[31]^=F(n)<<7}function ht(p,q,s){var b,i;for(N(p[0],h),N(p[1],f),N(p[2],f),N(p[3],h),i=255;i>=0;--i)at(p,q,b=s[i/8|0]>>(7&i)&1),ct(q,p),ct(p,p),at(p,q,b)}function pt(p,s){var q=[e(),e(),e(),e()];N(q[0],v),N(q[1],m),N(q[2],f),K(q[3],v,m),ht(p,q,s)}function ft(t,n,o){var i,c=new Uint8Array(64),p=[e(),e(),e(),e()];for(o||r(n,32),st(c,n,32),c[0]&=248,c[31]&=127,c[31]|=64,pt(p,c),ut(t,p),i=0;i<32;i++)n[i+32]=t[i];return 0}var lt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function yt(t,e){var n,i,r,o;for(i=63;i>=32;--i){for(n=0,r=i-32,o=i-12;r<o;++r)e[r]+=n-16*e[i]*lt[r-(i-32)],n=e[r]+128>>8,e[r]-=256*n;e[r]+=n,e[i]=0}for(n=0,r=0;r<32;r++)e[r]+=n-(e[31]>>4)*lt[r],n=e[r]>>8,e[r]&=255;for(r=0;r<32;r++)e[r]-=n*lt[r];for(i=0;i<32;i++)e[i+1]+=e[i]>>8,t[i]=255&e[i]}function vt(t){var i,e=new Float64Array(64);for(i=0;i<64;i++)e[i]=t[i];for(i=0;i<64;i++)t[i]=0;yt(t,e)}function gt(t,n,r,o){var i,c,h=new Uint8Array(64),f=new Uint8Array(64),l=new Uint8Array(64),d=new Float64Array(64),p=[e(),e(),e(),e()];st(h,o,32),h[0]&=248,h[31]&=127,h[31]|=64;var y=r+64;for(i=0;i<r;i++)t[64+i]=n[i];for(i=0;i<32;i++)t[32+i]=h[32+i];for(st(l,t.subarray(32),r+32),vt(l),pt(p,l),ut(t,p),i=32;i<64;i++)t[i]=o[i];for(st(f,t,r+64),vt(f),i=0;i<64;i++)d[i]=0;for(i=0;i<32;i++)d[i]=l[i];for(i=0;i<32;i++)for(c=0;c<32;c++)d[i+c]+=f[i]*h[c];return yt(t.subarray(32),d),y}function bt(t,n,r,o){var i,c=new Uint8Array(32),l=new Uint8Array(64),p=[e(),e(),e(),e()],q=[e(),e(),e(),e()];if(r<64)return-1;if(function(t,p){var n=e(),r=e(),o=e(),c=e(),l=e(),y=e(),v=e();return N(t[2],f),J(t[1],p),W(o,t[1]),K(c,o,d),Y(o,o,t[2]),X(c,t[2],c),W(l,c),W(y,l),K(v,y,l),K(n,v,o),K(n,n,c),Z(n,n),K(n,n,o),K(n,n,c),K(n,n,c),K(t[0],n,c),W(r,t[0]),K(r,r,c),H(r,o)&&K(t[0],t[0],w),W(r,t[0]),K(r,r,c),H(r,o)?-1:(F(t[0])===p[31]>>7&&Y(t[0],h,t[0]),K(t[3],t[0],t[1]),0)}(q,o))return-1;for(i=0;i<r;i++)t[i]=n[i];for(i=0;i<32;i++)t[i+32]=o[i];if(st(l,t,r),vt(l),ht(p,q,l),pt(q,n.subarray(32)),ct(p,q),ut(c,p),r-=64,T(n,0,c,0)){for(i=0;i<r;i++)t[i]=0;return-1}for(i=0;i<r;i++)t[i]=n[i+64];return r}var mt,wt=16,_t=64,St=32,kt=64;function Tt(t,e){if(32!==t.length)throw new Error("bad key size");if(24!==e.length)throw new Error("bad nonce size")}function Ot(){for(var i=0;i<arguments.length;i++)if(!(arguments[i]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ct(t){for(var i=0;i<t.length;i++)t[i]=0}t.lowlevel={crypto_core_hsalsa20:C,crypto_stream_xor:L,crypto_stream:x,crypto_stream_salsa20_xor:E,crypto_stream_salsa20:P,crypto_onetimeauth:U,crypto_onetimeauth_verify:M,crypto_verify_16:k,crypto_verify_32:T,crypto_secretbox:j,crypto_secretbox_open:I,crypto_scalarmult:V,crypto_scalarmult_base:Q,crypto_box_beforenm:tt,crypto_box_afternm:et,crypto_box:function(t,e,n,r,o,c){var h=new Uint8Array(32);return tt(h,o,c),et(t,e,n,r,h)},crypto_box_open:function(t,e,n,r,o,c){var h=new Uint8Array(32);return tt(h,o,c),nt(t,e,n,r,h)},crypto_box_keypair:$,crypto_hash:st,crypto_sign:gt,crypto_sign_keypair:ft,crypto_sign_open:bt,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:wt,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:_t,crypto_sign_PUBLICKEYBYTES:St,crypto_sign_SECRETKEYBYTES:kt,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:e,D:d,L:lt,pack25519:z,unpack25519:J,M:K,A:X,S:W,Z:Y,pow2523:Z,add:ct,set25519:N,modL:yt,scalarmult:ht,scalarbase:pt},t.randomBytes=function(t){var b=new Uint8Array(t);return r(b,t),b},t.secretbox=function(t,e,n){Ot(t,e,n),Tt(n,e);for(var r=new Uint8Array(32+t.length),o=new Uint8Array(r.length),i=0;i<t.length;i++)r[i+32]=t[i];return j(o,r,r.length,e,n),o.subarray(wt)},t.secretbox.open=function(t,e,n){Ot(t,e,n),Tt(n,e);for(var r=new Uint8Array(wt+t.length),o=new Uint8Array(r.length),i=0;i<t.length;i++)r[i+wt]=t[i];return r.length<32||0!==I(o,r,r.length,e,n)?null:o.subarray(32)},t.secretbox.keyLength=32,t.secretbox.nonceLength=24,t.secretbox.overheadLength=wt,t.scalarMult=function(t,p){if(Ot(t,p),32!==t.length)throw new Error("bad n size");if(32!==p.length)throw new Error("bad p size");var q=new Uint8Array(32);return V(q,t,p),q},t.scalarMult.base=function(t){if(Ot(t),32!==t.length)throw new Error("bad n size");var q=new Uint8Array(32);return Q(q,t),q},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,n,r,o){var c=t.box.before(r,o);return t.secretbox(e,n,c)},t.box.before=function(t,e){Ot(t,e),function(t,e){if(32!==t.length)throw new Error("bad public key size");if(32!==e.length)throw new Error("bad secret key size")}(t,e);var n=new Uint8Array(32);return tt(n,t,e),n},t.box.after=t.secretbox,t.box.open=function(e,n,r,o){var c=t.box.before(r,o);return t.secretbox.open(e,n,c)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return $(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(Ot(t),32!==t.length)throw new Error("bad secret key size");var e=new Uint8Array(32);return Q(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=24,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(Ot(t,e),e.length!==kt)throw new Error("bad secret key size");var n=new Uint8Array(_t+t.length);return gt(n,t,t.length,e),n},t.sign.open=function(t,e){if(Ot(t,e),e.length!==St)throw new Error("bad public key size");var n=new Uint8Array(t.length),r=bt(n,t,t.length,e);if(r<0)return null;for(var o=new Uint8Array(r),i=0;i<o.length;i++)o[i]=n[i];return o},t.sign.detached=function(e,n){for(var r=t.sign(e,n),o=new Uint8Array(_t),i=0;i<o.length;i++)o[i]=r[i];return o},t.sign.detached.verify=function(t,e,n){if(Ot(t,e,n),e.length!==_t)throw new Error("bad signature size");if(n.length!==St)throw new Error("bad public key size");var i,r=new Uint8Array(_t+t.length),o=new Uint8Array(_t+t.length);for(i=0;i<_t;i++)r[i]=e[i];for(i=0;i<t.length;i++)r[i+_t]=t[i];return bt(o,r,r.length,n)>=0},t.sign.keyPair=function(){var t=new Uint8Array(St),e=new Uint8Array(kt);return ft(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(Ot(t),t.length!==kt)throw new Error("bad secret key size");for(var e=new Uint8Array(St),i=0;i<e.length;i++)e[i]=t[32+i];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(Ot(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(St),n=new Uint8Array(kt),i=0;i<32;i++)n[i]=t[i];return ft(e,n,!0),{publicKey:e,secretKey:n}},t.sign.publicKeyLength=St,t.sign.secretKeyLength=kt,t.sign.seedLength=32,t.sign.signatureLength=_t,t.hash=function(t){Ot(t);var e=new Uint8Array(64);return st(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return Ot(t,e),0!==t.length&&0!==e.length&&t.length===e.length&&0===S(t,0,e,0,t.length)},t.setPRNG=function(t){r=t},(mt="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&mt.getRandomValues?t.setPRNG((function(t,e){var i,n=new Uint8Array(e);for(i=0;i<e;i+=65536)mt.getRandomValues(n.subarray(i,i+Math.min(e-i,65536)));for(i=0;i<e;i++)t[i]=n[i];Ct(n)})):(mt=n(3))&&mt.randomBytes&&t.setPRNG((function(t,e){var i,n=mt.randomBytes(e);for(i=0;i<e;i++)t[i]=n[i];Ct(n)}))}(t.exports?t.exports:self.nacl=self.nacl||{})},function(t,n,r){!function(e,n){"use strict";t.exports?t.exports=n():(e.nacl||(e.nacl={}),e.nacl.util=n())}(this,(function(){"use strict";var t={};function n(s){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(s))throw new TypeError("invalid encoding")}return t.decodeUTF8=function(s){if("string"!=typeof s)throw new TypeError("expected string");var i,t=unescape(encodeURIComponent(s)),b=new Uint8Array(t.length);for(i=0;i<t.length;i++)b[i]=t.charCodeAt(i);return b},t.encodeUTF8=function(t){var i,s=[];for(i=0;i<t.length;i++)s.push(String.fromCharCode(t[i]));return decodeURIComponent(escape(s.join("")))},"undefined"==typeof atob?void 0!==e.from?(t.encodeBase64=function(t){return e.from(t).toString("base64")},t.decodeBase64=function(s){return n(s),new Uint8Array(Array.prototype.slice.call(e.from(s,"base64"),0))}):(t.encodeBase64=function(t){return new e(t).toString("base64")},t.decodeBase64=function(s){return n(s),new Uint8Array(Array.prototype.slice.call(new e(s,"base64"),0))}):(t.encodeBase64=function(t){var i,s=[],e=t.length;for(i=0;i<e;i++)s.push(String.fromCharCode(t[i]));return btoa(s.join(""))},t.decodeBase64=function(s){n(s);var i,t=atob(s),b=new Uint8Array(t.length);for(i=0;i<t.length;i++)b[i]=t.charCodeAt(i);return b}),t}))},function(t,e,n){t.exports=n(4).default},function(t,e){},function(t,e,n){"use strict";n.r(e);for(var r=function(){function t(t,e){this.lastId=0,this.prefix=t,this.name=e}return t.prototype.create=function(t){this.lastId++;var e=this.lastId,n=this.prefix+e,r=this.name+"["+e+"]",o=!1,c=function(){o||(t.apply(null,arguments),o=!0)};return this[e]=c,{number:e,id:n,name:r,callback:c}},t.prototype.remove=function(t){delete this[t.number]},t}(),o=new r("_pusher_script_","Pusher.ScriptReceivers"),c={VERSION:"5.1.1",PROTOCOL:7,host:"ws.pusherapp.com",ws_port:80,wss_port:443,ws_path:"",sockjs_host:"sockjs.pusher.com",sockjs_http_port:80,sockjs_https_port:443,sockjs_path:"/pusher",stats_host:"stats.pusher.com",channel_auth_endpoint:"/pusher/auth",channel_auth_transport:"ajax",activity_timeout:12e4,pong_timeout:3e4,unavailable_timeout:1e4,cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},h=function(){function t(t){this.options=t,this.receivers=t.receivers||o,this.loading={}}return t.prototype.load=function(t,e,n){var r=this;if(r.loading[t]&&r.loading[t].length>0)r.loading[t].push(n);else{r.loading[t]=[n];var o=Ee.createScriptRequest(r.getPath(t,e)),c=r.receivers.create((function(e){if(r.receivers.remove(c),r.loading[t]){var n=r.loading[t];delete r.loading[t];for(var h=function(t){t||o.cleanup()},i=0;i<n.length;i++)n[i](e,h)}}));o.send(c)}},t.prototype.getRoot=function(t){var e=Ee.getDocument().location.protocol;return(t&&t.useTLS||"https:"===e?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},t.prototype.getPath=function(t,e){return this.getRoot(e)+"/"+t+this.options.suffix+".js"},t}(),f=new r("_pusher_dependencies","Pusher.DependenciesReceivers"),l=new h({cdn_http:c.cdn_http,cdn_https:c.cdn_https,version:c.VERSION,suffix:c.dependency_suffix,receivers:f}),d=String.fromCharCode,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v={},m=0,w=y.length;m<w;m++)v[y.charAt(m)]=m;var _,S=function(t){var e=t.charCodeAt(0);return e<128?t:e<2048?d(192|e>>>6)+d(128|63&e):d(224|e>>>12&15)+d(128|e>>>6&63)+d(128|63&e)},k=function(u){return u.replace(/[^\x00-\x7F]/g,S)},T=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[y.charAt(n>>>18),y.charAt(n>>>12&63),e>=2?"=":y.charAt(n>>>6&63),e>=1?"=":y.charAt(63&n)].join("")},O=window.btoa||function(b){return b.replace(/[\s\S]{1,3}/g,T)},C=function(){function t(t,e,n,r){var o=this;this.clear=e,this.timer=t((function(){o.timer&&(o.timer=r(o.timer))}),n)}return t.prototype.isRunning=function(){return null!==this.timer},t.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},t}(),A=(_=function(t,b){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}_(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)});function E(t){window.clearTimeout(t)}function P(t){window.clearInterval(t)}var x=function(t){function e(e,n){return t.call(this,setTimeout,E,e,(function(t){return n(),null}))||this}return A(e,t),e}(C),L=function(t){function e(e,n){return t.call(this,setInterval,P,e,(function(t){return n(),t}))||this}return A(e,t),e}(C),R={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(t){return new x(0,t)},method:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1);return function(object){return object[t].apply(object,r.concat(arguments))}}};function U(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i++){var r=e[i];for(var o in r)r[o]&&r[o].constructor&&r[o].constructor===Object?t[o]=U(t[o]||{},r[o]):t[o]=r[o]}return t}function M(){for(var t=["Pusher"],i=0;i<arguments.length;i++)"string"==typeof arguments[i]?t.push(arguments[i]):t.push(J(arguments[i]));return t.join(" : ")}function j(t,e){var n=Array.prototype.indexOf;if(null===t)return-1;if(n&&t.indexOf===n)return t.indexOf(e);for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1}function I(object,t){for(var e in object)Object.prototype.hasOwnProperty.call(object,e)&&t(object[e],e,object)}function N(object){var t=[];return I(object,(function(e,n){t.push(n)})),t}function D(t,e,n){for(var i=0;i<t.length;i++)e.call(n||window,t[i],i,t)}function map(t,e){for(var n=[],i=0;i<t.length;i++)n.push(e(t[i],i,t,n));return n}function filter(t,e){e=e||function(t){return!!t};for(var n=[],i=0;i<t.length;i++)e(t[i],i,t,n)&&n.push(t[i]);return n}function B(object,t){var e={};return I(object,(function(n,r){(t&&t(n,r,object,e)||Boolean(n))&&(e[r]=n)})),e}function z(t,e){for(var i=0;i<t.length;i++)if(e(t[i],i,t))return!0;return!1}function H(data){return t=function(t){return"object"==typeof t&&(t=J(t)),encodeURIComponent((s=t.toString(),O(k(s))));var s},e={},I(data,(function(n,r){e[r]=t(n)})),e;var t,e}function F(data){var object,t,e=B(data,(function(t){return void 0!==t}));return map((object=H(e),t=[],I(object,(function(e,n){t.push([n,e])})),t),R.method("join","=")).join("&")}function J(source){try{return JSON.stringify(source)}catch(n){return JSON.stringify((t=[],e=[],function n(r,path){var i,o,c;switch(typeof r){case"object":if(!r)return null;for(i=0;i<t.length;i+=1)if(t[i]===r)return{$ref:e[i]};if(t.push(r),e.push(path),"[object Array]"===Object.prototype.toString.apply(r))for(c=[],i=0;i<r.length;i+=1)c[i]=n(r[i],path+"["+i+"]");else for(o in c={},r)Object.prototype.hasOwnProperty.call(r,o)&&(c[o]=n(r[o],path+"["+JSON.stringify(o)+"]"));return c;case"number":case"string":case"boolean":return r}}(source,"$")))}var t,e}var X=new(function(){function t(){this.globalLog=function(t){window.console&&window.console.log&&window.console.log(t)}}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.log(this.globalLog,t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.log(this.globalLogWarn,t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.log(this.globalLogError,t)},t.prototype.globalLogWarn=function(t){window.console&&window.console.warn?window.console.warn(t):this.globalLog(t)},t.prototype.globalLogError=function(t){window.console&&window.console.error?window.console.error(t):this.globalLogWarn(t)},t.prototype.log=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=M.apply(this,arguments);if(Ne.log)Ne.log(r);else if(Ne.logToConsole){var o=t.bind(this);o(r)}},t}()),Y={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/authenticating_users"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"}}},K=function(t){var e,n=Y.urls[t];return n?(n.fullUrl?e=n.fullUrl:n.path&&(e=Y.baseUrl+n.path),e?"See: "+e:""):""},W=function(t,e,n){var r,o=this;for(var c in(r=Ee.createXHR()).open("POST",o.options.authEndpoint,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.authOptions.headers)r.setRequestHeader(c,this.authOptions.headers[c]);return r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){var data,t=!1;try{data=JSON.parse(r.responseText),t=!0}catch(t){n(!0,"JSON returned from auth endpoint was invalid, yet status code was 200. Data was: "+r.responseText)}t&&n(!1,data)}else{var e=K("authenticationEndpoint");X.error("Unable to retrieve auth string from auth endpoint - received status "+r.status+" from "+o.options.authEndpoint+". Clients must be authenticated to join private or presence channels. "+e),n(!0,r.status)}},r.send(this.composeQuery(e)),r},G=function(t,e,n){void 0!==this.authOptions.headers&&X.warn("To send headers with the auth request, you must use AJAX, rather than JSONP.");var r=t.nextAuthCallbackID.toString();t.nextAuthCallbackID++;var o=t.getDocument(),script=o.createElement("script");t.auth_callbacks[r]=function(data){n(!1,data)};var c="Pusher.auth_callbacks['"+r+"']";script.src=this.options.authEndpoint+"?callback="+encodeURIComponent(c)+"&"+this.composeQuery(e);var head=o.getElementsByTagName("head")[0]||o.documentElement;head.insertBefore(script,head.firstChild)},Z=function(){function t(t){this.src=t}return t.prototype.send=function(t){var e=this,n="Error loading "+e.src;e.script=document.createElement("script"),e.script.id=t.id,e.script.src=e.src,e.script.type="text/javascript",e.script.charset="UTF-8",e.script.addEventListener?(e.script.onerror=function(){t.callback(n)},e.script.onload=function(){t.callback(null)}):e.script.onreadystatechange=function(){"loaded"!==e.script.readyState&&"complete"!==e.script.readyState||t.callback(null)},void 0===e.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(e.errorScript=document.createElement("script"),e.errorScript.id=t.id+"_error",e.errorScript.text=t.name+"('"+n+"');",e.script.async=e.errorScript.async=!1):e.script.async=!0;var head=document.getElementsByTagName("head")[0];head.insertBefore(e.script,head.firstChild),e.errorScript&&head.insertBefore(e.errorScript,e.script.nextSibling)},t.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},t}(),V=function(){function t(t,data){this.url=t,this.data=data}return t.prototype.send=function(t){if(!this.request){var e=F(this.data),n=this.url+"/"+t.number+"?"+e;this.request=Ee.createScriptRequest(n),this.request.send(t)}},t.prototype.cleanup=function(){this.request&&this.request.cleanup()},t}(),Q={name:"jsonp",getAgent:function(t,e){return function(data,n){var r="http"+(e?"s":"")+"://"+(t.host||t.options.host)+t.options.path,c=Ee.createJSONPRequest(r,data),h=Ee.ScriptReceivers.create((function(e,r){o.remove(h),c.cleanup(),r&&r.host&&(t.host=r.host),n&&n(e,r)}));c.send(h)}}};function $(t,e,path){return t+(e.useTLS?"s":"")+"://"+(e.useTLS?e.hostTLS:e.hostNonTLS)+path}function tt(t,e){return"/app/"+t+"?protocol="+c.PROTOCOL+"&client=js&version="+c.VERSION+(e?"&"+e:"")}var et={getInitial:function(t,e){return $("ws",e,(e.httpPath||"")+tt(t,"flash=false"))}},nt={getInitial:function(t,e){return $("http",e,(e.httpPath||"/pusher")+tt(t))}},ot={getInitial:function(t,e){return $("http",e,e.httpPath||"/pusher")},getPath:function(t,e){return tt(t)}},it=function(){function t(){this._callbacks={}}return t.prototype.get=function(t){return this._callbacks[st(t)]},t.prototype.add=function(t,e,n){var r=st(t);this._callbacks[r]=this._callbacks[r]||[],this._callbacks[r].push({fn:e,context:n})},t.prototype.remove=function(t,e,n){if(t||e||n){var r=t?[st(t)]:N(this._callbacks);e||n?this.removeCallback(r,e,n):this.removeAllCallbacks(r)}else this._callbacks={}},t.prototype.removeCallback=function(t,e,n){D(t,(function(t){this._callbacks[t]=filter(this._callbacks[t]||[],(function(t){return e&&e!==t.fn||n&&n!==t.context})),0===this._callbacks[t].length&&delete this._callbacks[t]}),this)},t.prototype.removeAllCallbacks=function(t){D(t,(function(t){delete this._callbacks[t]}),this)},t}();function st(t){return"_"+t}var ct=function(){function t(t){this.callbacks=new it,this.global_callbacks=[],this.failThrough=t}return t.prototype.bind=function(t,e,n){return this.callbacks.add(t,e,n),this},t.prototype.bind_global=function(t){return this.global_callbacks.push(t),this},t.prototype.unbind=function(t,e,n){return this.callbacks.remove(t,e,n),this},t.prototype.unbind_global=function(t){return t?(this.global_callbacks=filter(this.global_callbacks||[],(function(e){return e!==t})),this):(this.global_callbacks=[],this)},t.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},t.prototype.emit=function(t,data,e){for(var i=0;i<this.global_callbacks.length;i++)this.global_callbacks[i](t,data);var n=this.callbacks.get(t),r=[];if(e?r.push(data,e):data&&r.push(data),n&&n.length>0)for(i=0;i<n.length;i++)n[i].fn.apply(n[i].context||window,r);else this.failThrough&&this.failThrough(t,data);return this},t}(),at=function(){var t=function(e,b){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(e,b)};return function(e,b){function n(){this.constructor=e}t(e,b),e.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)}}(),ut=function(t){function e(e,n,r,o,c){var h=t.call(this)||this;return h.initialize=Ee.transportConnectionInitializer,h.hooks=e,h.name=n,h.priority=r,h.key=o,h.options=c,h.state="new",h.timeline=c.timeline,h.activityTimeout=c.activityTimeout,h.id=h.timeline.generateUniqueID(),h}return at(e,t),e.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},e.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},e.prototype.connect=function(){var t=this;if(this.socket||"initialized"!==this.state)return!1;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(e){return R.defer((function(){t.onError(e),t.changeState("closed")})),!1}return this.bindListeners(),X.debug("Connecting",{transport:this.name,url:e}),this.changeState("connecting"),!0},e.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},e.prototype.send=function(data){var t=this;return"open"===this.state&&(R.defer((function(){t.socket&&t.socket.send(data)})),!0)},e.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},e.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},e.prototype.onError=function(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:t.toString()}))},e.prototype.onClose=function(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},e.prototype.onMessage=function(t){this.emit("message",t)},e.prototype.onActivity=function(){this.emit("activity")},e.prototype.bindListeners=function(){var t=this;this.socket.onopen=function(){t.onOpen()},this.socket.onerror=function(e){t.onError(e)},this.socket.onclose=function(e){t.onClose(e)},this.socket.onmessage=function(e){t.onMessage(e)},this.supportsPing()&&(this.socket.onactivity=function(){t.onActivity()})},e.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},e.prototype.changeState=function(t,e){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:e})),this.emit(t,e)},e.prototype.buildTimelineMessage=function(t){return U({cid:this.id},t)},e}(ct),ht=function(){function t(t){this.hooks=t}return t.prototype.isSupported=function(t){return this.hooks.isSupported(t)},t.prototype.createConnection=function(t,e,n,r){return new ut(this.hooks,t,e,n,r)},t}(),pt=new ht({urls:et,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(Ee.getWebSocketAPI())},isSupported:function(){return Boolean(Ee.getWebSocketAPI())},getSocket:function(t){return Ee.createWebSocket(t)}}),ft={urls:nt,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},lt=U({getSocket:function(t){return Ee.HTTPFactory.createStreamingSocket(t)}},ft),yt=U({getSocket:function(t){return Ee.HTTPFactory.createPollingSocket(t)}},ft),vt={isSupported:function(){return Ee.isXHRSupported()}},gt={ws:pt,xhr_streaming:new ht(U({},lt,vt)),xhr_polling:new ht(U({},yt,vt))},bt=new ht({file:"sockjs",urls:ot,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(t,e){return new window.SockJS(t,null,{js_path:l.getPath("sockjs",{useTLS:e.useTLS}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,path){t.send(JSON.stringify({path:path}))}}),mt={isSupported:function(t){return Ee.isXDRSupported(t.useTLS)}},wt=new ht(U({},lt,mt)),_t=new ht(U({},yt,mt));gt.xdr_streaming=wt,gt.xdr_polling=_t,gt.sockjs=bt;var St=gt,kt=function(){var t=function(e,b){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(e,b)};return function(e,b){function n(){this.constructor=e}t(e,b),e.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)}}(),Tt=new(function(t){function e(){var e=t.call(this)||this,n=e;return void 0!==window.addEventListener&&(window.addEventListener("online",(function(){n.emit("online")}),!1),window.addEventListener("offline",(function(){n.emit("offline")}),!1)),e}return kt(e,t),e.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},e}(ct)),Ot=function(){function t(t,e,n){this.manager=t,this.transport=e,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}return t.prototype.createConnection=function(t,e,n,r){var o=this;r=U({},r,{activityTimeout:this.pingDelay});var c=this.transport.createConnection(t,e,n,r),h=null,f=function(){c.unbind("open",f),c.bind("closed",l),h=R.now()},l=function(t){if(c.unbind("closed",l),1002===t.code||1003===t.code)o.manager.reportDeath();else if(!t.wasClean&&h){var e=R.now()-h;e<2*o.maxPingDelay&&(o.manager.reportDeath(),o.pingDelay=Math.max(e/2,o.minPingDelay))}};return c.bind("open",f),c},t.prototype.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},t}(),Ct={decodeMessage:function(t){try{var e=JSON.parse(t.data),n=e.data;if("string"==typeof n)try{n=JSON.parse(e.data)}catch(t){}var r={event:e.event,channel:e.channel,data:n};return e.user_id&&(r.user_id=e.user_id),r}catch(e){throw{type:"MessageParseError",error:e,data:t.data}}},encodeMessage:function(t){return JSON.stringify(t)},processHandshake:function(t){var e=Ct.decodeMessage(t);if("pusher:connection_established"===e.event){if(!e.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:e.data.socket_id,activityTimeout:1e3*e.data.activity_timeout}}if("pusher:error"===e.event)return{action:this.getCloseAction(e.data),error:this.getCloseError(e.data)};throw"Invalid handshake"},getCloseAction:function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:4e3===t.code?"tls_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},getCloseError:function(t){return 1e3!==t.code&&1001!==t.code?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}},At=Ct,Et=function(){var t=function(e,b){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(e,b)};return function(e,b){function n(){this.constructor=e}t(e,b),e.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)}}(),Pt=function(t){function e(e,n){var r=t.call(this)||this;return r.id=e,r.transport=n,r.activityTimeout=n.activityTimeout,r.bindListeners(),r}return Et(e,t),e.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},e.prototype.send=function(data){return this.transport.send(data)},e.prototype.send_event=function(t,data,e){var n={event:t,data:data};return e&&(n.channel=e),X.debug("Event sent",n),this.send(At.encodeMessage(n))},e.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},e.prototype.close=function(){this.transport.close()},e.prototype.bindListeners=function(){var t=this,e={message:function(e){var n;try{n=At.decodeMessage(e)}catch(n){t.emit("error",{type:"MessageParseError",error:n,data:e.data})}if(void 0!==n){switch(X.debug("Event recd",n),n.event){case"pusher:error":t.emit("error",{type:"PusherError",data:n.data});break;case"pusher:ping":t.emit("ping");break;case"pusher:pong":t.emit("pong")}t.emit("message",n)}},activity:function(){t.emit("activity")},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(e){n(),e&&e.code&&t.handleCloseEvent(e),t.transport=null,t.emit("closed")}},n=function(){I(e,(function(e,n){t.transport.unbind(n,e)}))};I(e,(function(e,n){t.transport.bind(n,e)}))},e.prototype.handleCloseEvent=function(t){var e=At.getCloseAction(t),n=At.getCloseError(t);n&&this.emit("error",n),e&&this.emit(e,{action:e,error:n})},e}(ct),xt=function(){function t(t,e){this.transport=t,this.callback=e,this.bindListeners()}return t.prototype.close=function(){this.unbindListeners(),this.transport.close()},t.prototype.bindListeners=function(){var t=this;this.onMessage=function(e){var n;t.unbindListeners();try{n=At.processHandshake(e)}catch(e){return t.finish("error",{error:e}),void t.transport.close()}"connected"===n.action?t.finish("connected",{connection:new Pt(n.id,t.transport),activityTimeout:n.activityTimeout}):(t.finish(n.action,{error:n.error}),t.transport.close())},this.onClosed=function(e){t.unbindListeners();var n=At.getCloseAction(e)||"backoff",r=At.getCloseError(e);t.finish(n,{error:r})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},t.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},t.prototype.finish=function(t,e){this.callback(U({transport:this.transport,action:t},e))},t}(),Lt=function(){function t(t,e){this.channel=t;var n=e.authTransport;if(void 0===Ee.getAuthorizers()[n])throw"'"+n+"' is not a recognized auth transport";this.type=n,this.options=e,this.authOptions=(e||{}).auth||{}}return t.prototype.composeQuery=function(t){var e="socket_id="+encodeURIComponent(t)+"&channel_name="+encodeURIComponent(this.channel.name);for(var i in this.authOptions.params)e+="&"+encodeURIComponent(i)+"="+encodeURIComponent(this.authOptions.params[i]);return e},t.prototype.authorize=function(e,n){t.authorizers=t.authorizers||Ee.getAuthorizers(),t.authorizers[this.type].call(this,Ee,e,n)},t}(),Rt=function(){function t(t,e){this.timeline=t,this.options=e||{}}return t.prototype.send=function(t,e){this.timeline.isEmpty()||this.timeline.send(Ee.TimelineTransport.getAgent(this,t),e)},t}(),Ut=function(){var t=function(e,b){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(e,b)};return function(e,b){function n(){this.constructor=e}t(e,b),e.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)}}(),Mt=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return Ut(e,t),e}(Error),jt=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return Ut(e,t),e}(Error),It=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return Ut(e,t),e}(Error),Nt=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return Ut(e,t),e}(Error),Dt=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return Ut(e,t),e}(Error),Bt=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return Ut(e,t),e}(Error),zt=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return Ut(e,t),e}(Error),Ht=function(){var t=function(e,b){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(e,b)};return function(e,b){function n(){this.constructor=e}t(e,b),e.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)}}(),qt=function(t){function e(e,n){var r=t.call(this,(function(t,data){X.debug("No callbacks on "+e+" for "+t)}))||this;return r.name=e,r.pusher=n,r.subscribed=!1,r.subscriptionPending=!1,r.subscriptionCancelled=!1,r}return Ht(e,t),e.prototype.authorize=function(t,e){return e(!1,{auth:""})},e.prototype.trigger=function(t,data){if(0!==t.indexOf("client-"))throw new Mt("Event '"+t+"' does not start with 'client-'");if(!this.subscribed){var e=K("triggeringClientEvents");X.warn("Client event triggered before channel 'subscription_succeeded' event . "+e)}return this.pusher.send_event(t,data,this.name)},e.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},e.prototype.handleEvent=function(t){var e=t.event,data=t.data;"pusher_internal:subscription_succeeded"===e?this.handleSubscriptionSucceededEvent(t):0!==e.indexOf("pusher_internal:")&&this.emit(e,data,{})},e.prototype.handleSubscriptionSucceededEvent=function(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",t.data)},e.prototype.subscribe=function(){var t=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(function(e,data){e?(X.error(data),t.emit("pusher:subscription_error",data)):(data=data,t.pusher.send_event("pusher:subscribe",{auth:data.auth,channel_data:data.channel_data,channel:t.name}))})))},e.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},e.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},e.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},e}(ct),Ft=function(){var t=function(e,b){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(e,b)};return function(e,b){function n(){this.constructor=e}t(e,b),e.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)}}(),Jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ft(e,t),e.prototype.authorize=function(t,e){return ee.createAuthorizer(this,this.pusher.config).authorize(t,e)},e}(qt),Xt=function(){function t(){this.reset()}return t.prototype.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null},t.prototype.each=function(t){var e=this;I(this.members,(function(n,r){t(e.get(r))}))},t.prototype.setMyID=function(t){this.myID=t},t.prototype.onSubscription=function(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)},t.prototype.addMember=function(t){return null===this.get(t.user_id)&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)},t.prototype.removeMember=function(t){var e=this.get(t.user_id);return e&&(delete this.members[t.user_id],this.count--),e},t.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},t}(),Yt=function(){var t=function(e,b){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(e,b)};return function(e,b){function n(){this.constructor=e}t(e,b),e.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)}}(),Kt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.members=new Xt,r}return Yt(e,t),e.prototype.authorize=function(e,n){var r=this;t.prototype.authorize.call(this,e,(function(t,e){if(!t){if(void 0===(e=e).channel_data){var o=K("authenticationEndpoint");return X.error("Invalid auth response for channel '"+r.name+"',expected 'channel_data' field. "+o),void n("Invalid auth response")}var c=JSON.parse(e.channel_data);r.members.setMyID(c.user_id)}n(t,e)}))},e.prototype.handleEvent=function(t){var e=t.event;if(0===e.indexOf("pusher_internal:"))this.handleInternalEvent(t);else{var data=t.data,n={};t.user_id&&(n.user_id=t.user_id),this.emit(e,data,n)}},e.prototype.handleInternalEvent=function(t){var e=t.event,data=t.data;switch(e){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(t);break;case"pusher_internal:member_added":var n=this.members.addMember(data);this.emit("pusher:member_added",n);break;case"pusher_internal:member_removed":var r=this.members.removeMember(data);r&&this.emit("pusher:member_removed",r)}},e.prototype.handleSubscriptionSucceededEvent=function(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(t.data),this.emit("pusher:subscription_succeeded",this.members))},e.prototype.disconnect=function(){this.members.reset(),t.prototype.disconnect.call(this)},e}(Jt),Wt=n(0),Gt=n(1),Zt=function(){var t=function(e,b){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(e,b)};return function(e,b){function n(){this.constructor=e}t(e,b),e.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)}}(),Vt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.key=null,e}return Zt(e,t),e.prototype.authorize=function(e,n){var r=this;t.prototype.authorize.call(this,e,(function(t,e){if(t)n(!0,e);else{var o=e.shared_secret;if(o)r.key=Object(Gt.decodeBase64)(o),delete e.shared_secret,n(!1,e);else{var c="No shared_secret key in auth payload for encrypted channel: "+r.name;n(!0,c)}}}))},e.prototype.trigger=function(t,data){throw new Dt("Client events are not currently supported for encrypted channels")},e.prototype.handleEvent=function(e){var n=e.event,data=e.data;0!==n.indexOf("pusher_internal:")&&0!==n.indexOf("pusher:")?this.handleEncryptedEvent(n,data):t.prototype.handleEvent.call(this,e)},e.prototype.handleEncryptedEvent=function(t,data){var e=this;if(this.key)if(data.ciphertext&&data.nonce){var n=Object(Gt.decodeBase64)(data.ciphertext);if(n.length<Wt.secretbox.overheadLength)X.error("Expected encrypted event ciphertext length to be "+Wt.secretbox.overheadLength+", got: "+n.length);else{var r=Object(Gt.decodeBase64)(data.nonce);if(r.length<Wt.secretbox.nonceLength)X.error("Expected encrypted event nonce length to be "+Wt.secretbox.nonceLength+", got: "+r.length);else{var o=Wt.secretbox.open(n,r,this.key);if(null===o)return X.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),void this.authorize(this.pusher.connection.socket_id,(function(c,h){c?X.error("Failed to make a request to the authEndpoint: "+h+". Unable to fetch new key, so dropping encrypted event"):null!==(o=Wt.secretbox.open(n,r,e.key))?e.emitJSON(t,Object(Gt.encodeUTF8)(o)):X.error("Failed to decrypt event with new key. Dropping encrypted event")}));this.emitJSON(t,Object(Gt.encodeUTF8)(o))}}}else X.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+data);else X.debug("Received encrypted event before key has been retrieved from the authEndpoint")},e.prototype.emitJSON=function(t,data){try{this.emit(t,JSON.parse(data))}catch(e){this.emit(t,data)}return this},e}(Jt),Qt=function(){var t=function(e,b){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(e,b)};return function(e,b){function n(){this.constructor=e}t(e,b),e.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)}}(),$t=function(t){function e(e,n){var r=t.call(this)||this;r.key=e,r.options=n||{},r.state="initialized",r.connection=null,r.usingTLS=!!n.useTLS,r.timeline=r.options.timeline,r.errorCallbacks=r.buildErrorCallbacks(),r.connectionCallbacks=r.buildConnectionCallbacks(r.errorCallbacks),r.handshakeCallbacks=r.buildHandshakeCallbacks(r.errorCallbacks);var o=Ee.getNetwork();return o.bind("online",(function(){r.timeline.info({netinfo:"online"}),"connecting"!==r.state&&"unavailable"!==r.state||r.retryIn(0)})),o.bind("offline",(function(){r.timeline.info({netinfo:"offline"}),r.connection&&r.sendActivityCheck()})),r.updateStrategy(),r}return Qt(e,t),e.prototype.connect=function(){this.connection||this.runner||(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))},e.prototype.send=function(data){return!!this.connection&&this.connection.send(data)},e.prototype.send_event=function(t,data,e){return!!this.connection&&this.connection.send_event(t,data,e)},e.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},e.prototype.isUsingTLS=function(){return this.usingTLS},e.prototype.startConnecting=function(){var t=this,e=function(n,r){n?t.runner=t.strategy.connect(0,e):"error"===r.action?(t.emit("error",{type:"HandshakeError",error:r.error}),t.timeline.error({handshakeError:r.error})):(t.abortConnecting(),t.handshakeCallbacks[r.action](r))};this.runner=this.strategy.connect(0,e)},e.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},e.prototype.disconnectInternally=function(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection&&this.abandonConnection().close()},e.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},e.prototype.retryIn=function(t){var e=this;this.timeline.info({action:"retry",delay:t}),t>0&&this.emit("connecting_in",Math.round(t/1e3)),this.retryTimer=new x(t||0,(function(){e.disconnectInternally(),e.connect()}))},e.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},e.prototype.setUnavailableTimer=function(){var t=this;this.unavailableTimer=new x(this.options.unavailableTimeout,(function(){t.updateState("unavailable")}))},e.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.prototype.sendActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new x(this.options.pongTimeout,(function(){t.timeline.error({pong_timed_out:t.options.pongTimeout}),t.retryIn(0)}))},e.prototype.resetActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new x(this.activityTimeout,(function(){t.sendActivityCheck()})))},e.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},e.prototype.buildConnectionCallbacks=function(t){var e=this;return U({},t,{message:function(t){e.resetActivityCheck(),e.emit("message",t)},ping:function(){e.send_event("pusher:pong",{})},activity:function(){e.resetActivityCheck()},error:function(t){e.emit("error",{type:"WebSocketError",error:t})},closed:function(){e.abandonConnection(),e.shouldRetry()&&e.retryIn(1e3)}})},e.prototype.buildHandshakeCallbacks=function(t){var e=this;return U({},t,{connected:function(t){e.activityTimeout=Math.min(e.options.activityTimeout,t.activityTimeout,t.connection.activityTimeout||1/0),e.clearUnavailableTimer(),e.setConnection(t.connection),e.socket_id=e.connection.id,e.updateState("connected",{socket_id:e.socket_id})}})},e.prototype.buildErrorCallbacks=function(){var t=this,e=function(e){return function(n){n.error&&t.emit("error",{type:"WebSocketError",error:n.error}),e(n)}};return{tls_only:e((function(){t.usingTLS=!0,t.updateStrategy(),t.retryIn(0)})),refused:e((function(){t.disconnect()})),backoff:e((function(){t.retryIn(1e3)})),retry:e((function(){t.retryIn(0)}))}},e.prototype.setConnection=function(t){for(var e in this.connection=t,this.connectionCallbacks)this.connection.bind(e,this.connectionCallbacks[e]);this.resetActivityCheck()},e.prototype.abandonConnection=function(){if(this.connection){for(var t in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var e=this.connection;return this.connection=null,e}},e.prototype.updateState=function(t,data){var e=this.state;if(this.state=t,e!==t){var n=t;"connected"===n&&(n+=" with new socket ID "+data.socket_id),X.debug("State changed",e+" -> "+n),this.timeline.info({state:t,params:data}),this.emit("state_change",{previous:e,current:t}),this.emit(t,data)}},e.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},e}(ct),te=function(){function t(){this.channels={}}return t.prototype.add=function(t,e){return this.channels[t]||(this.channels[t]=function(t,e){return 0===t.indexOf("private-encrypted-")?ee.createEncryptedChannel(t,e):0===t.indexOf("private-")?ee.createPrivateChannel(t,e):0===t.indexOf("presence-")?ee.createPresenceChannel(t,e):ee.createChannel(t,e)}(t,e)),this.channels[t]},t.prototype.all=function(){return function(object){var t=[];return I(object,(function(e){t.push(e)})),t}(this.channels)},t.prototype.find=function(t){return this.channels[t]},t.prototype.remove=function(t){var e=this.channels[t];return delete this.channels[t],e},t.prototype.disconnect=function(){I(this.channels,(function(t){t.disconnect()}))},t}(),ee={createChannels:function(){return new te},createConnectionManager:function(t,e){return new $t(t,e)},createChannel:function(t,e){return new qt(t,e)},createPrivateChannel:function(t,e){return new Jt(t,e)},createPresenceChannel:function(t,e){return new Kt(t,e)},createEncryptedChannel:function(t,e){return new Vt(t,e)},createTimelineSender:function(t,e){return new Rt(t,e)},createAuthorizer:function(t,e){return e.authorizer?e.authorizer(t,e):new Lt(t,e)},createHandshake:function(t,e){return new xt(t,e)},createAssistantToTheTransportManager:function(t,e,n){return new Ot(t,e,n)}},ne=function(){function t(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}return t.prototype.getAssistant=function(t){return ee.createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},t.prototype.isAlive=function(){return this.livesLeft>0},t.prototype.reportDeath=function(){this.livesLeft-=1},t}(),re=function(){function t(t,e){this.strategies=t,this.loop=Boolean(e.loop),this.failFast=Boolean(e.failFast),this.timeout=e.timeout,this.timeoutLimit=e.timeoutLimit}return t.prototype.isSupported=function(){return z(this.strategies,R.method("isSupported"))},t.prototype.connect=function(t,e){var n=this,r=this.strategies,o=0,c=this.timeout,h=null,f=function(l,d){d?e(null,d):(o+=1,n.loop&&(o%=r.length),o<r.length?(c&&(c*=2,n.timeoutLimit&&(c=Math.min(c,n.timeoutLimit))),h=n.tryStrategy(r[o],t,{timeout:c,failFast:n.failFast},f)):e(!0))};return h=this.tryStrategy(r[o],t,{timeout:c,failFast:this.failFast},f),{abort:function(){h.abort()},forceMinPriority:function(p){t=p,h&&h.forceMinPriority(p)}}},t.prototype.tryStrategy=function(t,e,n,r){var o=null,c=null;return n.timeout>0&&(o=new x(n.timeout,(function(){c.abort(),r(!0)}))),c=t.connect(e,(function(t,e){t&&o&&o.isRunning()&&!n.failFast||(o&&o.ensureAborted(),r(t,e))})),{abort:function(){o&&o.ensureAborted(),c.abort()},forceMinPriority:function(p){c.forceMinPriority(p)}}},t}(),oe=function(){function t(t){this.strategies=t}return t.prototype.isSupported=function(){return z(this.strategies,R.method("isSupported"))},t.prototype.connect=function(t,e){return function(t,e,n){var r=map(t,(function(t,i,r,o){return t.connect(e,n(i,o))}));return{abort:function(){D(r,ie)},forceMinPriority:function(p){D(r,(function(t){t.forceMinPriority(p)}))}}}(this.strategies,t,(function(i,t){return function(n,r){t[i].error=n,n?function(t){return function(t,e){for(var i=0;i<t.length;i++)if(!e(t[i],i,t))return!1;return!0}(t,(function(t){return Boolean(t.error)}))}(t)&&e(!0):(D(t,(function(t){t.forceMinPriority(r.transport.priority)})),e(null,r))}}))},t}();function ie(t){t.error||t.aborted||(t.abort(),t.aborted=!0)}var se=function(){function t(t,e,n){this.strategy=t,this.transports=e,this.ttl=n.ttl||18e5,this.usingTLS=n.useTLS,this.timeline=n.timeline}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.usingTLS,r=function(t){var e=Ee.getLocalStorage();if(e)try{var n=e[ce(t)];if(n)return JSON.parse(n)}catch(e){ae(t)}return null}(n),o=[this.strategy];if(r&&r.timestamp+this.ttl>=R.now()){var c=this.transports[r.transport];c&&(this.timeline.info({cached:!0,transport:r.transport,latency:r.latency}),o.push(new re([c],{timeout:2*r.latency+1e3,failFast:!0})))}var h=R.now(),f=o.pop().connect(t,(function r(c,l){c?(ae(n),o.length>0?(h=R.now(),f=o.pop().connect(t,r)):e(c)):(function(t,e,n){var r=Ee.getLocalStorage();if(r)try{r[ce(t)]=J({timestamp:R.now(),transport:e,latency:n})}catch(t){}}(n,l.transport.name,R.now()-h),e(null,l))}));return{abort:function(){f.abort()},forceMinPriority:function(p){t=p,f&&f.forceMinPriority(p)}}},t}();function ce(t){return"pusherTransport"+(t?"TLS":"NonTLS")}function ae(t){var e=Ee.getLocalStorage();if(e)try{delete e[ce(t)]}catch(t){}}var ue=function(){function t(t,e){var n=e.delay;this.strategy=t,this.options={delay:n}}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n,r=this.strategy,o=new x(this.options.delay,(function(){n=r.connect(t,e)}));return{abort:function(){o.ensureAborted(),n&&n.abort()},forceMinPriority:function(p){t=p,n&&n.forceMinPriority(p)}}},t}(),he=function(){function t(t,e,n){this.test=t,this.trueBranch=e,this.falseBranch=n}return t.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},t.prototype.connect=function(t,e){return(this.test()?this.trueBranch:this.falseBranch).connect(t,e)},t}(),pe=function(){function t(t){this.strategy=t}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.strategy.connect(t,(function(t,r){r&&n.abort(),e(t,r)}));return n},t}();function fe(t){return function(){return t.isSupported()}}var le,de=function(t,e){var n={};function r(r,o,c,h,f){var l=e(t,r,o,c,h,f);return n[r]=l,l}var o,c={hostNonTLS:t.wsHost+":"+t.wsPort,hostTLS:t.wsHost+":"+t.wssPort,httpPath:t.wsPath},h=U({},c,{useTLS:!0}),f={hostNonTLS:t.httpHost+":"+t.httpPort,hostTLS:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath},l={loop:!0,timeout:15e3,timeoutLimit:6e4},d=new ne({lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}),y=new ne({lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}),v=r("ws","ws",3,c,d),m=r("wss","ws",3,h,d),w=r("sockjs","sockjs",1,f),_=r("xhr_streaming","xhr_streaming",1,f,y),S=r("xdr_streaming","xdr_streaming",1,f,y),k=r("xhr_polling","xhr_polling",1,f),T=r("xdr_polling","xdr_polling",1,f),O=new re([v],l),C=new re([m],l),A=new re([w],l),E=new re([new he(fe(_),_,S)],l),P=new re([new he(fe(k),k,T)],l),x=new re([new he(fe(E),new oe([E,new ue(P,{delay:4e3})]),P)],l),L=new he(fe(x),x,A);return o=t.useTLS?new oe([O,new ue(L,{delay:2e3})]):new oe([O,new ue(C,{delay:2e3}),new ue(L,{delay:5e3})]),new se(new pe(new he(fe(v),o,L)),n,{ttl:18e5,timeline:t.timeline,useTLS:t.useTLS})},ye={getRequest:function(t){var e=new window.XDomainRequest;return e.ontimeout=function(){t.emit("error",new jt),t.close()},e.onerror=function(e){t.emit("error",e),t.close()},e.onprogress=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText)},e.onload=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText),t.emit("finished",200),t.close()},e},abortRequest:function(t){t.ontimeout=t.onerror=t.onprogress=t.onload=null,t.abort()}},ve=function(){var t=function(e,b){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(e,b)};return function(e,b){function n(){this.constructor=e}t(e,b),e.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)}}(),ge=function(t){function e(e,n,r){var o=t.call(this)||this;return o.hooks=e,o.method=n,o.url=r,o}return ve(e,t),e.prototype.start=function(t){var e=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){e.close()},Ee.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(t)},e.prototype.close=function(){this.unloader&&(Ee.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},e.prototype.onChunk=function(t,data){for(;;){var e=this.advanceBuffer(data);if(!e)break;this.emit("chunk",{status:t,data:e})}this.isBufferTooLong(data)&&this.emit("buffer_too_long")},e.prototype.advanceBuffer=function(t){var e=t.slice(this.position),n=e.indexOf("\n");return-1!==n?(this.position+=n+1,e.slice(0,n)):null},e.prototype.isBufferTooLong=function(t){return this.position===t.length&&t.length>262144},e}(ct);!function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=3]="CLOSED"}(le||(le={}));var be=le,me=1;function we(t){var e=-1===t.indexOf("?")?"?":"&";return t+e+"t="+ +new Date+"&n="+me++}function _e(t){return Math.floor(Math.random()*t)}var Se,ke=function(){function t(t,e){this.hooks=t,this.session=_e(1e3)+"/"+function(t){for(var e=[],i=0;i<t;i++)e.push(_e(32).toString(32));return e.join("")}(8),this.location=function(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}(e),this.readyState=be.CONNECTING,this.openStream()}return t.prototype.send=function(t){return this.sendRaw(JSON.stringify([t]))},t.prototype.ping=function(){this.hooks.sendHeartbeat(this)},t.prototype.close=function(code,t){this.onClose(code,t,!0)},t.prototype.sendRaw=function(t){if(this.readyState!==be.OPEN)return!1;try{return Ee.createSocketRequest("POST",we((e=this.location,n=this.session,e.base+"/"+n+"/xhr_send"))).start(t),!0}catch(t){return!1}var e,n},t.prototype.reconnect=function(){this.closeStream(),this.openStream()},t.prototype.onClose=function(code,t,e){this.closeStream(),this.readyState=be.CLOSED,this.onclose&&this.onclose({code:code,reason:t,wasClean:e})},t.prototype.onChunk=function(t){var e;if(200===t.status)switch(this.readyState===be.OPEN&&this.onActivity(),t.data.slice(0,1)){case"o":e=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(e);break;case"a":e=JSON.parse(t.data.slice(1)||"[]");for(var i=0;i<e.length;i++)this.onEvent(e[i]);break;case"m":e=JSON.parse(t.data.slice(1)||"null"),this.onEvent(e);break;case"h":this.hooks.onHeartbeat(this);break;case"c":e=JSON.parse(t.data.slice(1)||"[]"),this.onClose(e[0],e[1],!0)}},t.prototype.onOpen=function(t){var e,n,r;this.readyState===be.CONNECTING?(t&&t.hostname&&(this.location.base=(e=this.location.base,n=t.hostname,(r=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(e))[1]+n+r[3])),this.readyState=be.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},t.prototype.onEvent=function(t){this.readyState===be.OPEN&&this.onmessage&&this.onmessage({data:t})},t.prototype.onActivity=function(){this.onactivity&&this.onactivity()},t.prototype.onError=function(t){this.onerror&&this.onerror(t)},t.prototype.openStream=function(){var t=this;this.stream=Ee.createSocketRequest("POST",we(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",(function(e){t.onChunk(e)})),this.stream.bind("finished",(function(e){t.hooks.onFinished(t,e)})),this.stream.bind("buffer_too_long",(function(){t.reconnect()}));try{this.stream.start()}catch(e){R.defer((function(){t.onError(e),t.onClose(1006,"Could not start streaming",!1)}))}},t.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},t}(),Te={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",!1)}},Oe={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){200===e?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",!1)}},Ce={getRequest:function(t){var e=new(Ee.getXHRAPI());return e.onreadystatechange=e.onprogress=function(){switch(e.readyState){case 3:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText);break;case 4:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText),t.emit("finished",e.status),t.close()}},e},abortRequest:function(t){t.onreadystatechange=null,t.abort()}},Ae={createStreamingSocket:function(t){return this.createSocket(Te,t)},createPollingSocket:function(t){return this.createSocket(Oe,t)},createSocket:function(t,e){return new ke(t,e)},createXHR:function(t,e){return this.createRequest(Ce,t,e)},createRequest:function(t,e,n){return new ge(t,e,n)},createXDR:function(t,e){return this.createRequest(ye,t,e)}},Ee={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:o,DependenciesReceivers:f,getDefaultStrategy:de,Transports:St,transportConnectionInitializer:function(){var t=this;t.timeline.info(t.buildTimelineMessage({transport:t.name+(t.options.useTLS?"s":"")})),t.hooks.isInitialized()?t.changeState("initialized"):t.hooks.file?(t.changeState("initializing"),l.load(t.hooks.file,{useTLS:t.options.useTLS},(function(e,n){t.hooks.isInitialized()?(t.changeState("initialized"),n(!0)):(e&&t.onError(e),t.onClose(),n(!1))}))):t.onClose()},HTTPFactory:Ae,TimelineTransport:Q,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(t){var e=this;window.Pusher=t;var n=function(){e.onDocumentBody(t.ready)};window.JSON?n():l.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:W,jsonp:G}},onDocumentBody:function(t){var e=this;document.body?t():setTimeout((function(){e.onDocumentBody(t)}),0)},createJSONPRequest:function(t,data){return new V(t,data)},createScriptRequest:function(t){return new Z(t)},getLocalStorage:function(){try{return window.localStorage}catch(t){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new(this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return Tt},createWebSocket:function(t){return new(this.getWebSocketAPI())(t)},createSocketRequest:function(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);if(this.isXDRSupported(0===e.indexOf("https:")))return this.HTTPFactory.createXDR(t,e);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var t=this.getXHRAPI();return Boolean(t)&&void 0!==(new t).withCredentials},isXDRSupported:function(t){var e=t?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===e},addUnloadListener:function(t){void 0!==window.addEventListener?window.addEventListener("unload",t,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",t)},removeUnloadListener:function(t){void 0!==window.addEventListener?window.removeEventListener("unload",t,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",t)}};!function(t){t[t.ERROR=3]="ERROR",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG"}(Se||(Se={}));var Pe=Se,xe=function(){function t(t,e,n){this.key=t,this.session=e,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}return t.prototype.log=function(t,e){t<=this.options.level&&(this.events.push(U({},e,{timestamp:R.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},t.prototype.error=function(t){this.log(Pe.ERROR,t)},t.prototype.info=function(t){this.log(Pe.INFO,t)},t.prototype.debug=function(t){this.log(Pe.DEBUG,t)},t.prototype.isEmpty=function(){return 0===this.events.length},t.prototype.send=function(t,e){var n=this,data=U({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(data,(function(t,r){t||n.sent++,e&&e(t,r)})),!0},t.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},t}(),Le=function(){function t(t,e,n,r){this.name=t,this.priority=e,this.transport=n,this.options=r||{}}return t.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},t.prototype.connect=function(t,e){var n=this;if(!this.isSupported())return Re(new zt,e);if(this.priority<t)return Re(new It,e);var r=!1,o=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),c=null,h=function(){o.unbind("initialized",h),o.connect()},f=function(){c=ee.createHandshake(o,(function(t){r=!0,y(),e(null,t)}))},l=function(t){y(),e(t)},d=function(){var t;y(),t=J(o),e(new Nt(t))},y=function(){o.unbind("initialized",h),o.unbind("open",f),o.unbind("error",l),o.unbind("closed",d)};return o.bind("initialized",h),o.bind("open",f),o.bind("error",l),o.bind("closed",d),o.initialize(),{abort:function(){r||(y(),c?c.close():o.close())},forceMinPriority:function(p){r||n.priority<p&&(c?c.close():o.close())}}},t}();function Re(t,e){return R.defer((function(){e(t)})),{abort:function(){},forceMinPriority:function(){}}}var Ue=Ee.Transports,Me=function(t,e,n,r,o,c){var h=Ue[n];if(!h)throw new Bt(n);return t.enabledTransports&&-1===j(t.enabledTransports,e)||t.disabledTransports&&-1!==j(t.disabledTransports,e)?je:new Le(e,r,c?c.getAssistant(h):h,U({key:t.key,useTLS:t.useTLS,timeline:t.timeline,ignoreNullOrigin:t.ignoreNullOrigin},o))},je={isSupported:function(){return!1},connect:function(t,e){var n=R.defer((function(){e(new zt)}));return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}},Ie=function(){function t(e,n){var r,o=this;if(function(t){if(null==t)throw"You must pass your app key when you instantiate Pusher."}(e),!(n=n||{}).cluster&&!n.wsHost&&!n.httpHost){var h=K("javascriptQuickStart");X.warn("You should always specify a cluster when connecting. "+h)}"disableStats"in n&&(X.warn("The disableStats option is deprecated in favor of enableStats"),"enableStats"in n||(n.enableStats=!n.disableStats)),this.key=e,this.config=U({wsHost:c.host,wsPort:c.ws_port,wssPort:c.wss_port,wsPath:c.ws_path,httpHost:c.sockjs_host,httpPort:c.sockjs_http_port,httpsPort:c.sockjs_https_port,httpPath:c.sockjs_path,statsHost:c.stats_host,authEndpoint:c.channel_auth_endpoint,authTransport:c.channel_auth_transport,activity_timeout:c.activity_timeout,pong_timeout:c.pong_timeout,unavailable_timeout:c.unavailable_timeout},n.cluster?{wsHost:"ws-"+(r=n.cluster)+".pusher.com",httpHost:"sockjs-"+r+".pusher.com"}:{},n),this.channels=ee.createChannels(),this.global_emitter=new ct,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new xe(this.key,this.sessionID,{cluster:this.config.cluster,features:t.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Pe.INFO,version:c.VERSION}),this.config.enableStats&&(this.timelineSender=ee.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+Ee.TimelineTransport.name})),this.connection=ee.createConnectionManager(this.key,U({getStrategy:function(t){var e=U({},o.config,t);return Ee.getDefaultStrategy(e,Me)},timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{useTLS:this.shouldUseTLS()})),this.connection.bind("connected",(function(){o.subscribeAll(),o.timelineSender&&o.timelineSender.send(o.connection.isUsingTLS())})),this.connection.bind("message",(function(t){var e=0===t.event.indexOf("pusher_internal:");if(t.channel){var n=o.channel(t.channel);n&&n.handleEvent(t)}e||o.global_emitter.emit(t.event,t.data)})),this.connection.bind("connecting",(function(){o.channels.disconnect()})),this.connection.bind("disconnected",(function(){o.channels.disconnect()})),this.connection.bind("error",(function(t){X.warn(t)})),t.instances.push(this),this.timeline.info({instances:t.instances.length}),t.isReady&&this.connect()}return t.ready=function(){t.isReady=!0;for(var i=0,e=t.instances.length;i<e;i++)t.instances[i].connect()},t.getClientFeatures=function(){return N(B({ws:Ee.Transports.ws},(function(t){return t.isSupported({})})))},t.prototype.channel=function(t){return this.channels.find(t)},t.prototype.allChannels=function(){return this.channels.all()},t.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isUsingTLS(),e=this.timelineSender;this.timelineSenderTimer=new L(6e4,(function(){e.send(t)}))}},t.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},t.prototype.bind=function(t,e,n){return this.global_emitter.bind(t,e,n),this},t.prototype.unbind=function(t,e,n){return this.global_emitter.unbind(t,e,n),this},t.prototype.bind_global=function(t){return this.global_emitter.bind_global(t),this},t.prototype.unbind_global=function(t){return this.global_emitter.unbind_global(t),this},t.prototype.unbind_all=function(t){return this.global_emitter.unbind_all(),this},t.prototype.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},t.prototype.subscribe=function(t){var e=this.channels.add(t,this);return e.subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==this.connection.state||e.subscribe(),e},t.prototype.unsubscribe=function(t){var e=this.channels.find(t);e&&e.subscriptionPending?e.cancelSubscription():(e=this.channels.remove(t))&&"connected"===this.connection.state&&e.unsubscribe()},t.prototype.send_event=function(t,data,e){return this.connection.send_event(t,data,e)},t.prototype.shouldUseTLS=function(){return"https:"===Ee.getProtocol()||!0===this.config.forceTLS||Boolean(this.config.encrypted)},t.instances=[],t.isReady=!1,t.logToConsole=!1,t.Runtime=Ee,t.ScriptReceivers=Ee.ScriptReceivers,t.DependenciesReceivers=Ee.DependenciesReceivers,t.auth_callbacks=Ee.auth_callbacks,t}(),Ne=e.default=Ie;Ee.setup(Ie)}])},t.exports=n()}).call(this,n(431).Buffer)}}]);