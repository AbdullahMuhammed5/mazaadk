(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{507:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendSmsVerification"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:59}};t.loc.source={body:"mutation {\n  sendSmsVerification {\n    id\n    status\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}var r={};t.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),r[e.name.value]=n}})),e.exports=t},508:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"verifySms"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"code"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"SmsVerification"},arguments:[{kind:"Argument",name:{kind:"Name",value:"code"},value:{kind:"Variable",name:{kind:"Name",value:"code"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatar"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"verified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:199}};t.loc.source={body:"mutation verifySms($code: String!)\n{\n  SmsVerification(code: $code)\n  {\n    id\n    name\n    email\n    avatar\n    email_verified_at\n    phone_verified_at\n    verified\n    phone\n    country_code\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}var r={};function l(e,n){for(var i=0;i<e.definitions.length;i++){var element=e.definitions[i];if(element.name&&element.name.value==n)return element}}t.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),r[e.name.value]=n}})),e.exports=t,e.exports.verifySms=function(e,n){var t={kind:e.kind,definitions:[l(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var o=r[n]||new Set,c=new Set,d=new Set;for(o.forEach((function(e){d.add(e)}));d.size>0;){var v=d;d=new Set,v.forEach((function(e){c.has(e)||(c.add(e),(r[e]||new Set).forEach((function(e){d.add(e)})))}))}return c.forEach((function(n){var o=l(e,n);o&&t.definitions.push(o)})),t}(t,"verifySms")},530:function(e,n,t){"use strict";t(20);var o={name:"phoneVerification",data:function(){return{e6:1,steps:2,code:null,phoneVerification:!1,loading:!1}},computed:{me:function(){return this.$auth.user}},methods:{sendVerificationCode:function(){var e=this;this.loading=!0,this.$apollo.mutate({mutation:t(507)}).then((function(n){console.log(n),e.e6=2})).catch((function(e){console.log(e)})).finally((function(){e.loading=!1}))},verificationCode:function(){var e=this;this.loading=!0;var code=this.code;this.$apollo.mutate({mutation:t(508),variables:{code:code}}).then((function(n){console.log(n),e.$auth.setUser(n.data.SmsVerification),e.phoneVerification=!1})).catch((function(e){console.log(e)})).finally((function(){e.loading=!1}))}}},r=t(68),l=t(79),c=t.n(l),d=t(220),v=t(198),m=t(78),f=t(509),k=t(494),h=t(203),_=t(456),S=t(648),V=t(649),y=t(650),N=t(470),component=Object(r.a)(o,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[e.me.phone_verified_at?e._e():t("v-btn",{attrs:{color:"deep-purple accent-4",text:""},on:{click:function(n){e.phoneVerification=!0}}},[e._v("Verify")]),e._v(" "),t("v-dialog",{model:{value:e.phoneVerification,callback:function(n){e.phoneVerification=n},expression:"phoneVerification"}},[t("v-card",{attrs:{loading:e.loading}},[t("v-stepper",{attrs:{vertical:""},model:{value:e.e6,callback:function(n){e.e6=n},expression:"e6"}},[t("v-stepper-step",{attrs:{complete:e.e6>1,step:"1"}},[e._v("\n         ارسال رمز التحقق\n        ")]),e._v(" "),t("v-stepper-content",{attrs:{step:"1"}},[t("v-card",{attrs:{height:"200px"}},[t("v-overlay",{attrs:{absolute:"",color:"white"}},[t("v-layout",{staticClass:"black--text mb-2"},[t("v-spacer"),e._v("\n                +"+e._s(e.me.country_code)+" - "+e._s(e.me.phone)+"\n                "),t("v-spacer")],1),e._v(" "),t("v-btn",{attrs:{loading:e.loading,color:"primary"},on:{click:e.sendVerificationCode}},[e._v("تحقق")]),e._v(" "),t("v-btn",{attrs:{color:"blue",nuxt:"",text:"",to:"/setting/"}},[e._v("تغيير الرقم")])],1)],1)],1),e._v(" "),t("v-stepper-step",{attrs:{complete:e.e6>2,step:"2"}},[e._v("تأكيد رقم الهاتف")]),e._v(" "),t("v-stepper-content",{attrs:{step:"2"}},[t("v-card",[t("v-card-text",[t("v-text-field",{attrs:{color:"blue",dense:"",label:"verification code",outlined:"",type:"number"},model:{value:e.code,callback:function(n){e.code=n},expression:"code"}})],1),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{staticClass:"white--text",attrs:{color:"blue"},on:{click:e.verificationCode}},[e._v("تحقق")])],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,"5fad6509",null);n.a=component.exports;c()(component,{VBtn:d.a,VCard:v.a,VCardActions:m.a,VCardText:m.b,VDialog:f.a,VLayout:k.a,VOverlay:h.a,VSpacer:_.a,VStepper:S.a,VStepperContent:V.a,VStepperStep:y.a,VTextField:N.a})},614:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendEmailVerification"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:61}};t.loc.source={body:"mutation {\n  sendEmailVerification {\n    id\n    status\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}var r={};t.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),r[e.name.value]=n}})),e.exports=t},615:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"verifyEmail"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"code"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"EmailVerification"},arguments:[{kind:"Argument",name:{kind:"Name",value:"code"},value:{kind:"Variable",name:{kind:"Name",value:"code"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatar"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"verified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:203}};t.loc.source={body:"mutation verifyEmail($code: String!)\n{\n  EmailVerification(code: $code)\n  {\n    id\n    name\n    email\n    avatar\n    email_verified_at\n    phone_verified_at\n    verified\n    phone\n    country_code\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}var r={};function l(e,n){for(var i=0;i<e.definitions.length;i++){var element=e.definitions[i];if(element.name&&element.name.value==n)return element}}t.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),r[e.name.value]=n}})),e.exports=t,e.exports.verifyEmail=function(e,n){var t={kind:e.kind,definitions:[l(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var o=r[n]||new Set,c=new Set,d=new Set;for(o.forEach((function(e){d.add(e)}));d.size>0;){var v=d;d=new Set,v.forEach((function(e){c.has(e)||(c.add(e),(r[e]||new Set).forEach((function(e){d.add(e)})))}))}return c.forEach((function(n){var o=l(e,n);o&&t.definitions.push(o)})),t}(t,"verifyEmail")},664:function(e,n,t){"use strict";t.r(n);var o=t(530),r=(t(20),{name:"emailVerification",data:function(){return{e6:1,steps:2,code:null,emailVerification:!1,loading:!1}},computed:{me:function(){return this.$auth.user}},methods:{sendVerificationCode:function(){var e=this;this.loading=!0,this.$apollo.mutate({mutation:t(614)}).then((function(n){console.log(n),e.e6=2})).catch((function(e){console.log(e)})).finally((function(){e.loading=!1}))},verificationCode:function(){var e=this;this.loading=!0;var code=this.code;this.$apollo.mutate({mutation:t(615),variables:{code:code}}).then((function(n){console.log(n),e.$auth.setUser(n.data.EmailVerification),e.emailVerification=!1})).catch((function(e){console.log(e)})).finally((function(){e.loading=!1}))}}}),l=t(68),c=t(79),d=t.n(c),v=t(220),m=t(198),f=t(78),k=t(509),h=t(494),_=t(203),S=t(456),V=t(648),y=t(649),N=t(650),E=t(470),component=Object(l.a)(r,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[e.me.email_verified_at?e._e():t("v-btn",{attrs:{color:"orange accent-4",text:""},on:{click:function(n){e.emailVerification=!0}}},[e._v("Verify")]),e._v(" "),t("v-dialog",{model:{value:e.emailVerification,callback:function(n){e.emailVerification=n},expression:"emailVerification"}},[t("v-card",{attrs:{loading:e.loading}},[t("v-stepper",{attrs:{vertical:""},model:{value:e.e6,callback:function(n){e.e6=n},expression:"e6"}},[t("v-stepper-step",{attrs:{complete:e.e6>1,step:"1"}},[e._v("\n          ارسال رمز التحقق\n        ")]),e._v(" "),t("v-stepper-content",{attrs:{step:"1"}},[t("v-card",{attrs:{height:"200px"}},[t("v-overlay",{attrs:{absolute:"",color:"white"}},[t("v-layout",{staticClass:"black--text mb-2"},[t("v-spacer"),e._v("\n                 "+e._s(e.me.email)+"\n                "),t("v-spacer")],1),e._v(" "),t("v-btn",{attrs:{loading:e.loading,color:"orange"},on:{click:e.sendVerificationCode}},[e._v("تحقق")]),e._v(" "),t("v-btn",{attrs:{color:"orange",nuxt:"",text:"",to:"/setting/"}},[e._v("تغيير الايميل")])],1)],1)],1),e._v(" "),t("v-stepper-step",{attrs:{complete:e.e6>2,step:"2"}},[e._v("تأكيد البريد الالكتروني")]),e._v(" "),t("v-stepper-content",{attrs:{step:"2"}},[t("v-card",[t("v-card-text",[t("v-text-field",{attrs:{color:"blue",dense:"",label:"verification code",outlined:"",type:"number"},model:{value:e.code,callback:function(n){e.code=n},expression:"code"}})],1),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{staticClass:"white--text",attrs:{color:"orange"},on:{click:e.verificationCode}},[e._v("تأكيد")])],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,"630e5d00",null),x=component.exports;d()(component,{VBtn:v.a,VCard:m.a,VCardActions:f.a,VCardText:f.b,VDialog:k.a,VLayout:h.a,VOverlay:_.a,VSpacer:S.a,VStepper:V.a,VStepperContent:y.a,VStepperStep:N.a,VTextField:E.a});var F={name:"profile",components:{EmailVerification:x,PhoneVerification:o.a},middleware:"auth",computed:{me:function(){return this.$auth.user}}},D=t(495),w=t(460),C=t(655),$=t(656),O=Object(l.a)(F,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[t("v-timeline",{attrs:{dense:"",clipped:""}},[t("v-timeline-item",{staticClass:"mb-6",attrs:{"hide-dot":""}},[t("span",[e._v("حسابك\n        "),e.me.verified?t("v-chip",{attrs:{color:"green",label:"",dark:""}},[e._v("مؤكد")]):t("v-chip",{attrs:{color:"red",label:"",dark:""}},[e._v("غير مؤكد")])],1)]),e._v(" "),t("v-timeline-item",{staticClass:"mb-4",attrs:{color:e.me.email_verified_at?"green":"cyan",icon:"mdi-mail","fill-dot":"",small:""}},[e._v("\n      تأكيد البريد الالكتروني\n      "),e.me.email_verified_at?t("v-chip",{attrs:{color:"green",label:"",dark:""}},[e._v("مؤكد")]):t("v-chip",{attrs:{color:"amber",label:"",dark:""}},[e._v("قيد الانتظار")])],1),e._v(" "),t("v-timeline-item",{staticClass:"mb-4",attrs:{"hide-dot":""}},[t("email-verification")],1),e._v(" "),t("v-timeline-item",{staticClass:"mb-4",attrs:{color:e.me.phone_verified_at?"green":"cyan",icon:"mdi-phone","fill-dot":"",small:""}},[e._v("\n      تأكيد الهاتف\n      "),e.me.phone_verified_at?t("v-chip",{attrs:{color:"green",label:"",dark:""}},[e._v("مؤكد")]):t("v-chip",{attrs:{color:"amber",label:"",dark:""}},[e._v("قيد الانتظار")])],1),e._v(" "),e.me.phone_verified_at?e._e():t("v-timeline-item",{staticClass:"mb-4",attrs:{"hide-dot":""}},[t("phone-verification")],1)],1)],1)}),[],!1,null,"2683a328",null);n.default=O.exports;d()(O,{VChip:D.a,VContainer:w.a,VTimeline:C.a,VTimelineItem:$.a})}}]);